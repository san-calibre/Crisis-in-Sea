function main(){var a={};a.isShowClue1=true;a.isFirstInGame=true;a.init=function(){a.scale=a.width/480;jsGame.canvas.screen.setWidth(a.width);jsGame.canvas.screen.setHeight(a.height);a.isFirstInGame=false;a.isShowClue1=true};a.initCanvas=function(){if(jsGame.canvas.screen.getTouch()){window.scrollTo(0,-5);if(jsGame.canvas.screen.getDevice()=="duopaoAndroid"){a.height=window.height;a.width=window.width}else if(jsGame.canvas.screen.getDevice()=="android"){a.height=800;a.width=480}else{a.height=window.innerHeight;
a.width=window.innerWidth}}else{a.height=800;a.width=480}a.init();a.canvas=document.getElementById("jsGameScreen");a.ctx=a.canvas.getContext("2d")};a.initCanvas();jsGame.init(480,800).initImage([{id:"loading",src:"img/loading.png"},{id:"h",src:"img/h.png"},{id:"logo",src:"img/logo.jpg"},{id:"logo2",src:"img/logo2.png"},{id:"logo3",src:"img/logo3.png"},{id:"logo4",src:"img/logo4.png"},{id:"anniu_1",src:"img/ztyx.png"},{id:"anniu_2",src:"img/ksyx.png"},{id:"num",src:"img/fs.png"},{id:"clue1",src:"img/clue1.png"},
{id:"bombs",src:"img/gbz.png"},{id:"mzj",src:"img/gb.png"},{id:"bj0",src:"img/bj1.jpg"},{id:"bj1",src:"img/bj2.jpg"},{id:"bj2",src:"img/bj3.jpg"},{id:"bj3",src:"img/bj4.jpg"},{id:"cx0",src:"img/cx1.png"},{id:"cx1",src:"img/cx2.png"},{id:"cx2",src:"img/cx3.png"},{id:"top_bg",src:"img/l1.png"},{id:"bom_bg",src:"img/l2.png"},{id:"sd",src:"img/sd.png"},{id:"sd2",src:"img/sd2.png"},{id:"enemy1",src:"img/xyl.png"},{id:"enemy2",src:"img/sg.png"},{id:"enemy3",src:"img/lx.png"},{id:"enemy4",src:"img/ntg.png"},
{id:"enemy5",src:"img/zyj.png"},{id:"enemy6",src:"img/zyt.png"},{id:"bz1",src:"img/bz1.png"},{id:"head",src:"img/bq.png"},{id:"hpback",src:"img/bp2.png"},{id:"suo",src:"img/s.png"},{id:"bfh",src:"img/bfh.png"},{id:"hero1",src:"img/r1.png"},{id:"hero2",src:"img/r1-2.png"},{id:"hero3",src:"img/r1-3.png"},{id:"fish",src:"img/fish.png"},{id:"wq1",src:"img/wq1.png"},{id:"wq2",src:"img/wq2.png"},{id:"wq3",src:"img/wq3.png"},{id:"wq4",src:"img/wq4.png"},{id:"wq5",src:"img/wq5.png"},{id:"wq6",src:"img/wq6.png"},
{id:"jb",src:"img/jb.png"},{id:"cd",src:"img/cd.png"},{id:"sz",src:"img/sz.png"},{id:"bc_bg",src:"img/bc.png"},{id:"bc_bk",src:"img/dt.png"},{id:"bc_btn",src:"img/sf.png"},{id:"bc_btn_bg",src:"img/sf2.png"},{id:"cl_jt",src:"img/jt.png"},{id:"cl_sl",src:"img/sgxdt.png"},{id:"cl_xg",src:"img/xg.png"},{id:"cl_bj",src:"img/xgbj.jpg"},{id:"zb1",src:"img/kp.png"},{id:"zb2",src:"img/zd.png"},{id:"zb_suo",src:"img/ds.png"},{id:"zb_atk",src:"img/gjz.png"},{id:"zb_btn",src:"img/jjh.png"},{id:"zb_add",src:"img/jqz.png"},
{id:"zb_hp",src:"img/smz.png"},{id:"zb_max",src:"img/sx.png"},{id:"zb_bc",src:"img/sxbc.png"},{id:"zb_num",src:"img/szi.png"},{id:"wq_null",src:"img/mp.png"},{id:"gg1",src:"img/gg1.png"},{id:"gg2",src:"img/gg2.png"},{id:"sb1",src:"img/sb1.png"},{id:"sb2",src:"img/sb2.png"},{id:"h_wq3_r",src:"img/r3.png"},{id:"h_wq3_l",src:"img/r3-2.png"},{id:"h_wq3_cd",src:"img/r3-3.png"},{id:"bz2",src:"img/bz2.png"},{id:"h_wq4_r",src:"img/r2.png"},{id:"h_wq4_l",src:"img/r2-2.png"},{id:"h_wq4_cd",src:"img/r2-3.png"},
{id:"h_wq6_r",src:"img/r4.png"},{id:"h_wq6_l",src:"img/r4-2.png"},{id:"h_wq6_cd",src:"img/r4-3.png"},{id:"nainiu",src:"img/n.png"},{id:"zt1",src:"img/zt1.png"},{id:"zt2",src:"img/zt2.png"},{id:"bzsm1",src:"img/bzsm1.png"},{id:"bzsm2",src:"img/bzsm2.png"},{id:"bzsm3",src:"img/bzsm3.png"},{id:"bzsm4",src:"img/bzsm4.png"},{id:"bzsm5",src:"img/bzsm5.png"},{id:"jsz",src:"img/jsz.png"},{id:"jsz2",src:"img/jsz2.png"},{id:"jsz3",src:"img/jsz3.png"},{id:"yz2",src:"img/yz2.png"},{id:"gb2",src:"img/gb2.png"},
{id:"ny",src:"img/ny.png"},{id:"peng",src:"img/peng.png"}]).setRunFrequency(30);jsGame.initImageCallBack(function(c,qb){try{var Oa=c/qb;Oa=Oa>1?1:Oa;a.ctx.fillStyle="#FFFFFF";a.ctx.fillRect(0,0,a.width,a.height);a.ctx.drawImage(jsGame.getImage("loading"),0,0,250,81,(a.width-250)/2,(a.height-81)/2,250,81);a.ctx.drawImage(jsGame.getImage("loading"),2,86,246*Oa,10,(a.width-246)/2,(a.height-81)/2+51,246*Oa,10)}catch(Gb){}});jsGame.pageLoad(function(c){function qb(b){switch(b){case "wq":return J.join("");
case "gq":b=[];for(var f=0;f<S.length;f++)b.push(S[f].join(""));return b.join("")}}function Oa(){rb=(a.width-92*a.scale)/2;G={x:(a.width-383*a.scale)/2,y:a.height/2-240*a.scale,w:383,h:150,state:0,isPressed:false};H={x:(a.width-383*a.scale)/2,y:a.height/2-75*a.scale,w:383,h:150,state:0,isPressed:false};I={x:(a.width-383*a.scale)/2,y:a.height/2+90*a.scale,w:383,h:150,state:0,isPressed:false};ca={x:rb,y:a.height-350*a.scale,w:92,h:50,isPressed:false,draw:l};da={x:rb,y:a.height-250*a.scale,w:92,h:50,
isPressed:false,draw:l};ea={x:rb,y:a.height-140*a.scale,w:92,h:50,isPressed:false,draw:l};X={x:10*a.scale,y:a.height-80*a.scale,w:92,h:50,isPressed:false,draw:l};Y={x:25*a.scale,y:10*a.scale,w:60,h:31,isPressed:false,draw:l};Z={x:110*a.scale,y:10*a.scale,w:60,h:31,isPressed:false,draw:l};Kb={x:(a.width-156)/2,y:415,w:156,h:63,isPressed:false,draw:l};ha={x:50*a.scale,y:270*a.scale,w:108,h:107,state:0,isPressed:false,draw:l};ia={x:a.width-157*a.scale,y:270*a.scale,w:108,h:107,state:0,isPressed:false,
draw:l};ja={x:50*a.scale,y:450*a.scale,w:108,h:107,state:0,isPressed:false,draw:l};ka={x:a.width-157*a.scale,y:450*a.scale,w:108,h:107,state:0,isPressed:false,draw:l};la={x:a.width/2-53*a.scale,y:360*a.scale,w:108,h:107,state:0,isPressed:false,draw:l};K={x:5*a.scale,y:165*a.scale,w:55,h:46,isPressed:false};F={x:a.width-60*a.scale,y:170*a.scale,w:55,h:46,isPressed:false};xa={x:a.width/2,y:22*a.scale,w:42,h:40,state:0,isPressed:false,draw:l};ma={x:25*a.scale,y:a.height-55*a.scale,w:55,h:57,isPressed:false};
r={x:400*a.scale,y:440*a.scale,w:55,h:57,isPressed:false};s={x:330*a.scale,y:440*a.scale,w:55,h:57,isPressed:false};na={x:(a.width-167)/2,y:190,w:167,h:48,isPressed:false};oa={x:(a.width-167)/2,y:280,w:167,h:48,isPressed:false};t.x=160*a.scale;t.y=a.height-45*a.scale;t.w=75;t.h=42;t.isPressed=false;u.x=270*a.scale;u.y=a.height-45*a.scale;u.w=75;u.h=42;u.isPressed=false;v.x=380*a.scale;v.y=a.height-45*a.scale;v.w=75;v.h=42;v.isPressed=false;sb={x:160*a.scale,y:100*a.scale,w:200,h:300,isPressed:false};
A={x:30*a.scale,y:10*a.scale,w:54,h:30,isPressed:false};tb={x:G.x+310*a.scale,y:G.y+98*a.scale,w:61,h:35,isPressed:false};ub={x:H.x+310*a.scale,y:H.y+98*a.scale,w:61,h:35,isPressed:false};vb={x:I.x+310*a.scale,y:I.y+98*a.scale,w:61,h:35,isPressed:false};pa={x:70*a.scale+(a.width-426*a.scale)/2,y:310*a.scale,w:75,h:42,isPressed:false};qa={x:280*a.scale+(a.width-426*a.scale)/2,y:310*a.scale,w:75,h:42,isPressed:false};ra={x:250*a.scale+(a.width-368*a.scale)/2,y:290*a.scale,w:95,h:56,isPressed:false};
sa={x:250*a.scale+(a.width-368*a.scale)/2,y:290*a.scale,w:97,h:58,isPressed:false};d={x:a.width/2,y:a.height,tx:0,ty:0,state:M,armId:0,sf:100,hp:100,kcIndex:0,time:0,attack:false}}function Gb(){d.hp=100;e=[];gb=fa=0;Pa=[];B=d.kcIndex=0;d.armId=0;x=ta;wb(ua-1)}function xb(b){lastscore=y;d.hp=100;e=[];gb=fa=0;Pa=[];B=d.kcIndex=0;d.armId=0;if(i.isEnable){i.isEnable=false;i.reset=1E3;i.ap=i.ap_;i.num=0}if(j.isEnable){j.isEnable=false;j.reset=1E3;j.ap=j.ap_;j.num=0}z=yb=Lb();if(b!=0)if(S[z][$]==1)a:for(b=
0;b<S.length;b++)for(var f=0;f<S[b].length;f++)if(S[b][f]==0){S[b][f]=1;break a}x=yb>3?GAME_WIN_ALL:ta;if(t.state>=0)t.state=-1;if(u.state>=0)u.state=-1;if(v.state>=0)v.state=-1;D.isEnable=false;i.isEnable=false;m.isEnable=false;N.isEnable=false;j.isEnable=false;o.isEnable=false}function Lb(){for(var b=0;b<S.length;b++)for(var f=0;f<S[b].length;f++)if(S[b][f]==1)return b;return 3}function hb(b,f,h,g){switch(g){case 0:return"{isEnable :"+b+", ap :"+f+", control :"+h+"}";case 1:return"{isEnable :"+
b+", ap :"+f+"}"}}function wb(b){y=p.saveList[b].money;t.state=p.saveList[b].btn_arm_1;u.state=p.saveList[b].btn_arm_2;v.state=p.saveList[b].btn_arm_3;for(var f=0;f<S.length;f++)for(var h=0;h<S[f].length;h++)S[f][h]=Number(p.saveList[b].levelData.charAt(f*5+h));for(f=0;f<J.length;f++)J[f]=Number(p.saveList[b].armState.charAt(f));if(typeof p.saveList[b].gun1=="string"){f=c.getJson(p.saveList[b].gun1);D.isEnable=f.isEnable;D.ap=f.ap;D.control=f.control}if(typeof p.saveList[b].gun2=="string"){f=c.getJson(p.saveList[b].gun2);
i.isEnable=f.isEnable;i.ap=f.ap;i.control=f.control}if(typeof p.saveList[b].gun3=="string"){f=c.getJson(p.saveList[b].gun3);m.isEnable=f.isEnable;m.ap=f.ap;m.control=f.control}if(typeof p.saveList[b].gun4=="string"){f=c.getJson(p.saveList[b].gun4);N.isEnable=f.isEnable;N.ap=f.ap}if(typeof p.saveList[b].gun5=="string"){f=c.getJson(p.saveList[b].gun5);j.isEnable=f.isEnable;j.ap=f.ap}if(typeof p.saveList[b].gun6=="string"){b=c.getJson(p.saveList[b].gun6);o.isEnable=b.isEnable;o.ap=b.ap}}function va(b,
f){if(S[b][f]>0)return true;return false}function ib(b){e.splice(b,1);gb++;if(Pa.length==0&&x!=nb)if(fa==T.length/5)if(gb==T.length/5){x=jb;if(d.state==P)d.state=ya}}function zb(b,f,h){Pa.push({x:b,y:f,r:h,shrapnel:[{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,
vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,
tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0},{state:0,x:0,y:0,vxy:0,tx:0,ty:0,imgIndex:0}]})}function q(b,f,h,g,O,E,ga,aa,Ea,Fa){c.canvas.drawImage(b,f,h,g,O,E,ga,aa,Ea,Fa)}function l(b,f,h,g,O,E,ga,aa,Ea,Fa){q(b,f*g,h*O,g,O,E,ga,aa,Ea,Fa)}function eb(b,f,h,g,O,E,ga,aa,Ea,Fa,Ab){a.ctx.save();if(E!=0){a.ctx.translate(g,O);a.ctx.rotate(E*Math.PI/180);a.ctx.translate(-g,-O)}a.ctx.globalAlpha=b;l(h,ga,aa,Ea,Fa,g,O,Ea*f,Fa*f,Ab);a.ctx.restore()}function w(b,f,h){if(!b.isPressed)if(!b.isPressed&&
f>b.x&&h>b.y&&f<b.x+b.w*a.scale&&h<b.y+b.h*a.scale)return b.isPressed=true;return false}function Hb(){if(J[0]==1&&J[1]==1&&J[2]==1)if(D.ap==D.maxap&&i.ap==i.maxap&&m.ap==m.maxap){D.control=false;i.control=false;m.control=false;J[3]=1;J[4]=1;J[5]=1}}function Mb(){q("bj1",0,0,480,860,a.width/2,a.height,480*a.scale,860*a.scale,c.graphics.ANCHOR_HB);q("top_bg",0,0,480,44,a.width/2,0,480*a.scale,44*a.scale,c.graphics.ANCHOR_HT);l("bc_bk",0,A.isPressed?1:0,A.w,A.h,A.x,A.y,A.w*a.scale,A.h*a.scale);l("bc_bg",
0,G.state==1?0:1,G.w,G.h,G.x,G.y,G.w*a.scale,G.h*a.scale);l("bc_bg",0,H.state==1?0:1,H.w,H.h,H.x,H.y,H.w*a.scale,H.h*a.scale);l("bc_bg",0,I.state==1?0:1,I.w,I.h,I.x,I.y,I.w*a.scale,I.h*a.scale);G.state==1&&c.canvas.drawNumber(p.saveList[0].money,"num",19,18,G.x+362*a.scale,G.y+50*a.scale,false,19*a.scale,18*a.scale);H.state==1&&c.canvas.drawNumber(p.saveList[1].money,"num",19,18,H.x+362*a.scale,H.y+50*a.scale,false,19*a.scale,18*a.scale);I.state==1&&c.canvas.drawNumber(p.saveList[2].money,"num",19,
18,I.x+362*a.scale,I.y+50*a.scale,false,19*a.scale,18*a.scale)}function Ib(){for(var b=e.length-1;b>=0;b--)switch(d.armId){case 0:if(D.isEnable&&d.state==P&&d.attack)if(d.tx>e[b].x-Qa[e[b].id*2]&&d.tx<e[b].x+Qa[e[b].id*2]&&d.ty-80*a.scale>e[b].y-Qa[e[b].id*2+1]&&d.ty-80*a.scale<e[b].y+Qa[e[b].id*2+1]){d.attack=false;e[b].hp-=D.ap;switch(e[b].state){case 1:e[b].state=3;break;case 4:e[b].state=9;break;case 5:e[b].state=6}if(e[b].hp<0){zb(e[b].x,e[b].y,200);Bb(e[b].id);ib(b)}}break;case 3:if(N.isEnable&&
d.state==P&&d.attack)if(d.tx>e[b].x-Qa[e[b].id*2]&&d.tx<e[b].x+Qa[e[b].id*2]&&d.ty-80*a.scale>e[b].y-Qa[e[b].id*2+1]&&d.ty-80*a.scale<e[b].y+Qa[e[b].id*2+1]){d.attack=false;e[b].hp-=N.ap;switch(e[b].state){case 1:e[b].state=3;break;case 4:e[b].state=9;break;case 5:e[b].state=6}if(e[b].hp<0){zb(e[b].x,e[b].y,200);Bb(e[b].id);ib(b)}}break;case 2:if(m.isEnable&&d.state==P)if(e[b].x>d.tx-150&&e[b].x<d.tx+150&&e[b].y>d.ty-180*a.scale&&e[b].y<d.ty+20*a.scale){e[b].hp-=m.ap;switch(e[b].state){case 1:e[b].state=
3;break;case 4:e[b].state=9;break;case 5:e[b].state=6}if(e[b].hp<0){zb(e[b].x,e[b].y,200);Bb(e[b].id);ib(b)}}case 5:if(o.isEnable&&d.state==P)if(e[b].x>d.tx-150&&e[b].x<d.tx+150&&e[b].y>d.ty-180*a.scale&&e[b].y<d.ty+20*a.scale){e[b].hp-=o.ap;switch(e[b].state){case 1:e[b].state=3;break;case 4:e[b].state=9;break;case 5:e[b].state=6}if(e[b].hp<0){zb(e[b].x,e[b].y,200);Bb(e[b].id);ib(b)}}}}function Nb(){for(var b=e.length-1;b>=0;b--)e[b].state=2}function Ob(){for(var b=e.length-1;b>=0;b--)e[b].state=
0}function Pb(){eb(1,a.scale,"sd2",xa.x,xa.y,Cb%360,0,0,96,100,c.graphics.ANCHOR_HV);xa.draw("sd",0,0,xa.w,xa.h,xa.x,xa.y,xa.w*a.scale,xa.h*a.scale,c.graphics.ANCHOR_HV)}function Qb(b){switch(b){case 0:d.hp-=c.commandFuns.getRandom(2,4);break;case 1:d.hp-=c.commandFuns.getRandom(4,6);break;case 2:d.hp-=c.commandFuns.getRandom(4,6);break;case 3:d.hp-=c.commandFuns.getRandom(5,7);break;case 4:d.hp-=c.commandFuns.getRandom(8,11);break;case 5:d.hp-=c.commandFuns.getRandom(8,11);break;case 6:d.hp-=c.commandFuns.getRandom(2,
5)}if(d.hp<=0){x=nb;d.hp=0;if(d.state==P)d.state=ya}}function Q(b){switch(x){case Ga:switch(b.state){case -1:return"wq_null";case -5:return"suo";default:return"wq"+(b.state+1)}default:switch(b.state){case -1:return"suo";case -5:return"suo";default:return"wq"+(b.state+1)}}}function kb(b,f,h,g,O,E){var ga=[b,f],aa=[0,0];aa[0]=Math.sqrt(g*g/(h*h+1))+ga[0];aa[1]=h*(aa[0]-ga[0])+ga[1];R.push({x1:b,y1:f,x2:aa[0],y2:aa[1],speed:O,tx:E})}function Db(){q("bj"+z,0,0,480,860,a.width/2,a.height,480*a.scale,860*
a.scale,c.graphics.ANCHOR_HB);if(x==wa)for(var b=e.length-1;b>=0;b--){switch(e[b].id){case 0:q("yz2",0,0,25,8,e[b].x,e[b].y+20*a.scale,25*a.scale,8*a.scale,c.graphics.ANCHOR_HV);switch(e[b].state){case 3:case 9:case 6:c.canvas.drawImage(Ha.getFrame().imageid,Ha.getFrame().sx,Ha.getFrame().sy,Ha.getFrame().width,Ha.getFrame().height,e[b].x,e[b].y,Ha.getFrame().width*a.scale,Ha.getFrame().height*a.scale,c.graphics.ANCHOR_HV);Ha.nextFrame();if(Ha.endFrame())switch(e[b].state){case 3:e[b].state=1;break;
case 9:e[b].state=4;break;case 6:e[b].state=5}break;default:c.canvas.drawImage(Ra.getFrame().imageid,Ra.getFrame().sx,Ra.getFrame().sy,Ra.getFrame().width,Ra.getFrame().height,e[b].x,e[b].y,Ra.getFrame().width*a.scale,Ra.getFrame().height*a.scale,c.graphics.ANCHOR_HV);Ra.nextFrame()}if(e[b].hp<e[b].maxhp){c.canvas.setColor("rgb(0, 0, 0)");c.canvas.fillRect(e[b].x-9*a.scale,e[b].y-22*a.scale,18*a.scale,5*a.scale);c.canvas.setColor("rgb(200, 200, 0)");c.canvas.fillRect(e[b].x-8*a.scale,e[b].y-21*a.scale,
16*a.scale*e[b].hp/e[b].maxhp,3*a.scale)}break;case 1:switch(e[b].state){case 3:case 9:case 6:c.canvas.drawImage(Ia.getFrame().imageid,Ia.getFrame().sx,Ia.getFrame().sy,Ia.getFrame().width,Ia.getFrame().height,e[b].x,e[b].y,Ia.getFrame().width*a.scale,Ia.getFrame().height*a.scale,c.graphics.ANCHOR_HV);Ia.nextFrame();if(Ia.endFrame())switch(e[b].state){case 3:e[b].state=1;break;case 9:e[b].state=4;break;case 6:e[b].state=5}break;default:c.canvas.drawImage(Sa.getFrame().imageid,Sa.getFrame().sx,Sa.getFrame().sy,
Sa.getFrame().width,Sa.getFrame().height,e[b].x,e[b].y,Sa.getFrame().width*a.scale,Sa.getFrame().height*a.scale,c.graphics.ANCHOR_HV);Sa.nextFrame()}if(e[b].hp<e[b].maxhp){c.canvas.setColor("rgb(0, 0, 0)");c.canvas.fillRect(e[b].x-5*a.scale,e[b].y-27*a.scale,18*a.scale,5*a.scale);c.canvas.setColor("rgb(200, 200, 0)");c.canvas.fillRect(e[b].x-4*a.scale,e[b].y-26*a.scale,16*a.scale*e[b].hp/e[b].maxhp,3*a.scale)}break;case 2:switch(e[b].state){case 3:case 9:case 6:c.canvas.drawImage(Ja.getFrame().imageid,
Ja.getFrame().sx,Ja.getFrame().sy,Ja.getFrame().width,Ja.getFrame().height,e[b].x,e[b].y,Ja.getFrame().width*a.scale,Ja.getFrame().height*a.scale,c.graphics.ANCHOR_HV);Ja.nextFrame();if(Ja.endFrame())switch(e[b].state){case 3:e[b].state=1;break;case 9:e[b].state=4;break;case 6:e[b].state=5}break;default:c.canvas.drawImage(Ta.getFrame().imageid,Ta.getFrame().sx,Ta.getFrame().sy,Ta.getFrame().width,Ta.getFrame().height,e[b].x,e[b].y,Ta.getFrame().width*a.scale,Ta.getFrame().height*a.scale,c.graphics.ANCHOR_HV);
Ta.nextFrame()}if(e[b].hp<e[b].maxhp){c.canvas.setColor("rgb(0, 0, 0)");c.canvas.fillRect(e[b].x-10*a.scale,e[b].y-32*a.scale,23*a.scale,5*a.scale);c.canvas.setColor("rgb(200, 200, 0)");c.canvas.fillRect(e[b].x-9*a.scale,e[b].y-31*a.scale,21*a.scale*e[b].hp/e[b].maxhp,3*a.scale)}break;case 3:switch(e[b].state){case 3:case 9:case 6:c.canvas.drawImage(Ka.getFrame().imageid,Ka.getFrame().sx,Ka.getFrame().sy,Ka.getFrame().width,Ka.getFrame().height,e[b].x,e[b].y,Ka.getFrame().width*a.scale,Ka.getFrame().height*
a.scale,c.graphics.ANCHOR_HV);Ka.nextFrame();if(Ka.endFrame())switch(e[b].state){case 3:e[b].state=1;break;case 9:e[b].state=4;break;case 6:e[b].state=5}break;default:c.canvas.drawImage(Ua.getFrame().imageid,Ua.getFrame().sx,Ua.getFrame().sy,Ua.getFrame().width,Ua.getFrame().height,e[b].x,e[b].y,Ua.getFrame().width*a.scale,Ua.getFrame().height*a.scale,c.graphics.ANCHOR_HV);Ua.nextFrame()}if(e[b].hp<e[b].maxhp){c.canvas.setColor("rgb(0, 0, 0)");c.canvas.fillRect(e[b].x-5*a.scale,e[b].y-39*a.scale,
26*a.scale,5*a.scale);c.canvas.setColor("rgb(200, 200, 0)");c.canvas.fillRect(e[b].x-4*a.scale,e[b].y-38*a.scale,25*a.scale*e[b].hp/e[b].maxhp,3*a.scale)}break;case 4:switch(e[b].state){case 3:case 9:case 6:c.canvas.drawImage(La.getFrame().imageid,La.getFrame().sx,La.getFrame().sy,La.getFrame().width,La.getFrame().height,e[b].x,e[b].y,La.getFrame().width*a.scale,La.getFrame().height*a.scale,c.graphics.ANCHOR_HV);La.nextFrame();if(La.endFrame())switch(e[b].state){case 3:e[b].state=1;break;case 9:e[b].state=
4;break;case 6:e[b].state=5}break;default:c.canvas.drawImage(Va.getFrame().imageid,Va.getFrame().sx,Va.getFrame().sy,Va.getFrame().width,Va.getFrame().height,e[b].x,e[b].y,Va.getFrame().width*a.scale,Va.getFrame().height*a.scale,c.graphics.ANCHOR_HV);Va.nextFrame()}break;case 5:switch(e[b].state){case 3:case 9:case 6:c.canvas.drawImage(Ma.getFrame().imageid,Ma.getFrame().sx,Ma.getFrame().sy,Ma.getFrame().width,Ma.getFrame().height,e[b].x,e[b].y,Ma.getFrame().width*a.scale,Ma.getFrame().height*a.scale,
c.graphics.ANCHOR_HV);Ma.nextFrame();if(Ma.endFrame())switch(e[b].state){case 3:e[b].state=1;break;case 9:e[b].state=4;break;case 6:e[b].state=5}break;default:c.canvas.drawImage(Wa.getFrame().imageid,Wa.getFrame().sx,Wa.getFrame().sy,Wa.getFrame().width,Wa.getFrame().height,e[b].x,e[b].y,Wa.getFrame().width*a.scale,Wa.getFrame().height*a.scale,c.graphics.ANCHOR_HV);Wa.nextFrame()}break;default:e[b].state=0}switch(e[b].state){case 0:e[b].vxy=lb(e[b].speed,e[b].x,e[b].y,c.commandFuns.getRandom(e[b].x>
20*a.scale?e[b].x-30*a.scale:e[b].x,e[b].x<450*a.scale?e[b].x+30*a.scale:e[b].x),a.height);e[b].state=1;break;case 1:e[b].x+=e[b].vxy[0];e[b].y+=e[b].vxy[1];if(e[b].y>a.height-150*a.scale&&x==wa){Qb(e[b].id);ib(b);continue}break;case 2:e[b].gox=a.width/2;e[b].goy=a.height/2;if(e[b].x<a.width/2&&e[b].y<a.height/2){e[b].gox=c.commandFuns.getRandom(a.width/2-30,a.width/2+30);e[b].goy=c.commandFuns.getRandom(a.height/2-20,a.height/2+20)}else if(e[b].x>a.width/2&&e[b].y<a.height/2){e[b].gox=c.commandFuns.getRandom(a.width/
2-30,a.width/2+30);e[b].goy=c.commandFuns.getRandom(a.height/2-20,a.height/2+20)}else if(e[b].x<a.width/2&&e[b].y>a.height/2){e[b].gox=c.commandFuns.getRandom(a.width/2-30,a.width/2+30);e[b].goy=c.commandFuns.getRandom(a.height/2-20,a.height/2+20)}else if(e[b].x>a.width/2&&e[b].y>a.height/2){e[b].gox=c.commandFuns.getRandom(a.width/2-30,a.width/2+30);e[b].goy=c.commandFuns.getRandom(a.height/2-20,a.height/2+20)}e[b].vxy=lb(e[b].speed,e[b].x,e[b].y,e[b].gox,e[b].goy);e[b].state=4;break;case 4:e[b].x+=
e[b].vxy[0];e[b].y+=e[b].vxy[1];if(e[b].vxy[0]>0){if(e[b].x>e[b].gox)e[b].state=5}else if(e[b].vxy[0]<0){if(e[b].x<e[b].gox)e[b].state=5}else e[b].state=5;if(e[b].y>a.height-150*a.scale&&x==wa){Qb(e[b].id);ib(b);continue}break;case 5:if(e[b].att>20){e[b].att=0;ob.push({x:e[b].x,y:e[b].y});if(i.isEnable){i.ap--;if(i.ap<0){i.ap=i.ap_;i.isEnable=false;Ob()}}if(j.isEnable){j.ap--;if(j.ap<0){j.ap=j.ap_;j.isEnable=false;Ob()}}}else e[b].att++}}q("cx"+(z>2?2:z),0,0,480,111,a.width/2,a.height-55*a.scale,
480*a.scale,111*a.scale,c.graphics.ANCHOR_HB);switch(d.armId){case 0:if(i.num<1)if(i.reset>0)i.reset--;else{i.num++;i.reset=1E3}if(j.num<1)if(j.reset>0)j.reset--;else{j.num++;j.reset=1E3}if(m.num<5)if(m.reset>0)m.reset--;else{m.num++;m.reset=250}if(o.num<5)if(o.reset>0)o.reset--;else{o.num++;o.reset=250}switch(d.state){case P:if(d.tx>a.width/2){c.canvas.drawImage(Xa.getFrame().imageid,Xa.getFrame().sx,Xa.getFrame().sy,Xa.getFrame().width,Xa.getFrame().height,d.x+20*a.scale,d.y-145*a.scale,Xa.getFrame().width*
a.scale,Xa.getFrame().height*a.scale,c.graphics.ANCHOR_HV);Xa.nextFrame()}else{c.canvas.drawImage(Ya.getFrame().imageid,Ya.getFrame().sx,Ya.getFrame().sy,Ya.getFrame().width,Ya.getFrame().height,d.x,d.y-145*a.scale,Ya.getFrame().width*a.scale,Ya.getFrame().height*a.scale,c.graphics.ANCHOR_HV);Ya.nextFrame()}break;case ya:d.sf-=8;if(d.sf<0){D.isEnable=false;fb=d.time=0;d.state=M}case L:case M:c.canvas.drawImage(Za.getFrame().imageid,Za.getFrame().sx,Za.getFrame().sy,Za.getFrame().width,Za.getFrame().height,
d.x-15*a.scale,d.y-135*a.scale,Za.getFrame().width*a.scale,Za.getFrame().height*a.scale,c.graphics.ANCHOR_HV);Za.nextFrame()}break;case 4:if(i.num<1)if(i.reset>0)i.reset--;else{i.num++;i.reset=1E3}if(m.num<5)if(m.reset>0)m.reset--;else{m.num++;m.reset=250}if(o.num<5)if(o.reset>0)o.reset--;else{o.num++;o.reset=250}switch(d.state){case L:if(j.reset>0){c.canvas.setColor("rgb(151, 9, 61)");c.canvas.fillRect(d.x+50*a.scale,d.y-164*a.scale,10*a.scale,50*a.scale);c.canvas.setColor("rgb(31, 1, 31)");c.canvas.fillRect(d.x+
51*a.scale,d.y-163*a.scale,8*a.scale,48*a.scale*j.reset/1E3);c.canvas.drawImage(U.getFrame().imageid,U.getFrame().sx,U.getFrame().sy,U.getFrame().width,U.getFrame().height,d.x+10*a.scale,d.y-135*a.scale,U.getFrame().width*a.scale,U.getFrame().height*a.scale,c.graphics.ANCHOR_HV);U.nextFrame();j.reset--}else{j.num++;d.state=M;j.reset=1E3}break;case M:c.canvas.drawImage(V.getFrame().imageid,V.getFrame().sx,V.getFrame().sy,V.getFrame().width,V.getFrame().height,d.x,d.y-135*a.scale,V.getFrame().width*
a.scale,V.getFrame().height*a.scale,c.graphics.ANCHOR_HV);V.nextFrame()}break;case 1:if(j.num<1)if(j.reset>0)j.reset--;else{j.num++;j.reset=1E3}if(m.num<5)if(m.reset>0)m.reset--;else{m.num++;m.reset=250}if(o.num<5)if(o.reset>0)o.reset--;else{o.num++;o.reset=250}switch(d.state){case L:if(i.reset>0){c.canvas.setColor("rgb(151, 9, 61)");c.canvas.fillRect(d.x+50*a.scale,d.y-164*a.scale,10*a.scale,50*a.scale);c.canvas.setColor("rgb(31, 1, 31)");c.canvas.fillRect(d.x+51*a.scale,d.y-163*a.scale,8*a.scale,
48*a.scale*i.reset/1E3);c.canvas.drawImage(U.getFrame().imageid,U.getFrame().sx,U.getFrame().sy,U.getFrame().width,U.getFrame().height,d.x+10*a.scale,d.y-135*a.scale,U.getFrame().width*a.scale,U.getFrame().height*a.scale,c.graphics.ANCHOR_HV);U.nextFrame();i.reset--}else{i.num++;d.state=M;i.reset=1E3}break;case M:c.canvas.drawImage(V.getFrame().imageid,V.getFrame().sx,V.getFrame().sy,V.getFrame().width,V.getFrame().height,d.x,d.y-135*a.scale,V.getFrame().width*a.scale,V.getFrame().height*a.scale,
c.graphics.ANCHOR_HV);V.nextFrame()}break;case 2:if(i.num<1)if(i.reset>0)i.reset--;else{i.num++;i.reset=1E3}if(j.num<1)if(j.reset>0)j.reset--;else{j.num++;j.reset=1E3}if(o.num<5)if(o.reset>0)o.reset--;else{o.num++;o.reset=250}if(m.num<5)if(m.reset>0){c.canvas.setColor("rgb(151, 9, 61)");c.canvas.fillRect(d.x+80*a.scale,d.y-134*a.scale,10*a.scale,50*a.scale);c.canvas.setColor("rgb(31, 1, 31)");c.canvas.fillRect(d.x+81*a.scale,d.y-133*a.scale,8*a.scale,48*a.scale*m.reset/250);c.canvas.drawNumber(m.num,
"num",19,18,d.x+93*a.scale,d.y-164*a.scale,false,19*a.scale,18*a.scale);m.reset--}else{m.num++;m.reset=250}switch(d.state){case P:if(d.tx>a.width/2){c.canvas.drawImage(za.getFrame().imageid,za.getFrame().sx,za.getFrame().sy,za.getFrame().width,za.getFrame().height,d.x+20*a.scale,d.y-145*a.scale,za.getFrame().width*a.scale,za.getFrame().height*a.scale,c.graphics.ANCHOR_HV);za.nextFrame();if(za.endFrame()){m.isEnable=false;d.state=M}}else{c.canvas.drawImage(Aa.getFrame().imageid,Aa.getFrame().sx,Aa.getFrame().sy,
Aa.getFrame().width,Aa.getFrame().height,d.x,d.y-145*a.scale,Aa.getFrame().width*a.scale,Aa.getFrame().height*a.scale,c.graphics.ANCHOR_HV);Aa.nextFrame();if(Aa.endFrame()){m.isEnable=false;d.state=M}}break;case L:case ya:case M:c.canvas.drawImage($a.getFrame().imageid,$a.getFrame().sx,$a.getFrame().sy,$a.getFrame().width,$a.getFrame().height,d.x,d.y-125*a.scale,$a.getFrame().width*a.scale,$a.getFrame().height*a.scale,c.graphics.ANCHOR_HV);$a.nextFrame()}break;case 3:if(i.num<1)if(i.reset>0)i.reset--;
else{i.num++;i.reset=1E3}if(j.num<1)if(j.reset>0)j.reset--;else{j.num++;j.reset=1E3}if(m.num<5)if(m.reset>0)m.reset--;else{m.num++;m.reset=250}if(o.num<5)if(o.reset>0)o.reset--;else{o.num++;o.reset=250}switch(d.state){case P:if(d.tx>a.width/2){c.canvas.drawImage(ab.getFrame().imageid,ab.getFrame().sx,ab.getFrame().sy,ab.getFrame().width,ab.getFrame().height,d.x+20*a.scale,d.y-145*a.scale,ab.getFrame().width*a.scale,ab.getFrame().height*a.scale,c.graphics.ANCHOR_HV);ab.nextFrame()}else{c.canvas.drawImage(bb.getFrame().imageid,
bb.getFrame().sx,bb.getFrame().sy,bb.getFrame().width,bb.getFrame().height,d.x,d.y-145*a.scale,bb.getFrame().width*a.scale,bb.getFrame().height*a.scale,c.graphics.ANCHOR_HV);bb.nextFrame()}break;case ya:d.sf-=8;if(d.sf<0){N.isEnable=false;fb=d.time=0;d.state=M}case L:case M:c.canvas.drawImage(cb.getFrame().imageid,cb.getFrame().sx,cb.getFrame().sy,cb.getFrame().width,cb.getFrame().height,d.x-15*a.scale,d.y-135*a.scale,cb.getFrame().width*a.scale,cb.getFrame().height*a.scale,c.graphics.ANCHOR_HV);
cb.nextFrame()}break;case 5:if(i.num<1)if(i.reset>0)i.reset--;else{i.num++;i.reset=1E3}if(j.num<1)if(j.reset>0)j.reset--;else{j.num++;j.reset=1E3}if(m.num<5)if(m.reset>0)m.reset--;else{m.num++;m.reset=250}if(o.num<10)if(o.reset>0){c.canvas.setColor("rgb(151, 9, 61)");c.canvas.fillRect(d.x+80*a.scale,d.y-134*a.scale,10*a.scale,50*a.scale);c.canvas.setColor("rgb(31, 1, 31)");c.canvas.fillRect(d.x+81*a.scale,d.y-133*a.scale,8*a.scale,48*a.scale*o.reset/250);c.canvas.drawNumber(o.num,"num",19,18,d.x+
93*a.scale,d.y-164*a.scale,false,19*a.scale,18*a.scale);o.reset--}else{o.num++;o.reset=250}switch(d.state){case P:if(d.tx>a.width/2){c.canvas.drawImage(Ba.getFrame().imageid,Ba.getFrame().sx,Ba.getFrame().sy,Ba.getFrame().width,Ba.getFrame().height,d.x+20*a.scale,d.y-145*a.scale,Ba.getFrame().width*a.scale,Ba.getFrame().height*a.scale,c.graphics.ANCHOR_HV);Ba.nextFrame();if(Ba.endFrame()){o.isEnable=false;d.state=M}}else{c.canvas.drawImage(Ca.getFrame().imageid,Ca.getFrame().sx,Ca.getFrame().sy,Ca.getFrame().width,
Ca.getFrame().height,d.x,d.y-145*a.scale,Ca.getFrame().width*a.scale,Ca.getFrame().height*a.scale,c.graphics.ANCHOR_HV);Ca.nextFrame();if(Ca.endFrame()){o.isEnable=false;d.state=M}}break;case L:case ya:case M:c.canvas.drawImage(db.getFrame().imageid,db.getFrame().sx,db.getFrame().sy,db.getFrame().width,db.getFrame().height,d.x,d.y-125*a.scale,db.getFrame().width*a.scale,db.getFrame().height*a.scale,c.graphics.ANCHOR_HV);db.nextFrame()}}q("top_bg",0,0,480,44,a.width/2,0,480*a.scale,44*a.scale,c.graphics.ANCHOR_HT);
Y.draw("anniu_1",0,Da?Y.isPressed?1:0:Y.isPressed?3:2,Y.w,Y.h,Y.x,Y.y,Y.w*a.scale,Y.h*a.scale);Z.draw("anniu_1",0,Eb?Z.isPressed?7:6:Z.isPressed?5:4,Z.w,Z.h,Z.x,Z.y,Z.w*a.scale,Z.h*a.scale);c.canvas.drawNumber(y,"num",19,18,450*a.scale,15*a.scale,false,19*a.scale,18*a.scale);Pb();if(D.isEnable){eb(d.sf/100,d.sf/100*a.scale,"mzj",d.tx,d.ty-80*a.scale,fb+=5,0,0,75,75,c.graphics.ANCHOR_HV);eb(d.sf/100,d.sf/100*a.scale,"mzj",d.tx,d.ty-80*a.scale,-fb,1,0,75,75,c.graphics.ANCHOR_HV);if(d.state==P){c.canvas.drawImage(W.getFrame().imageid,
W.getFrame().sx,W.getFrame().sy,W.getFrame().width,W.getFrame().height,d.tx,d.ty-80*a.scale,W.getFrame().width*a.scale,W.getFrame().height*a.scale,c.graphics.ANCHOR_HV);W.nextFrame();if(d.time>D.speed){d.time=0;d.attack=true}else d.time++}}if(i.isEnable)if(i.ap>0&&i.ap<=i.ap_/4)l("fish",3,0,83,47,a.width/2,a.height/2,83*a.scale,47*a.scale,c.graphics.ANCHOR_HV);else if(i.ap>i.ap_/4&&i.ap<=i.ap_/2)l("fish",2,0,83,47,a.width/2,a.height/2,83*a.scale,47*a.scale,c.graphics.ANCHOR_HV);else if(i.ap>i.ap_/
2&&i.ap<=i.ap_*3/4)l("fish",1,0,83,47,a.width/2,a.height/2,83*a.scale,47*a.scale,c.graphics.ANCHOR_HV);else i.ap>i.ap_*3/4&&i.ap<=i.ap_&&l("fish",0,0,83,47,a.width/2,a.height/2,83*a.scale,47*a.scale,c.graphics.ANCHOR_HV);if(j.isEnable)if(j.ap>0&&j.ap<=j.ap_/4)l("nainiu",3,0,124,70,a.width/2,a.height/2,124*a.scale,70*a.scale,c.graphics.ANCHOR_HV);else if(j.ap>j.ap_/4&&j.ap<=j.ap_/2)l("nainiu",2,0,124,70,a.width/2,a.height/2,124*a.scale,70*a.scale,c.graphics.ANCHOR_HV);else if(j.ap>j.ap_/2&&j.ap<=j.ap_*
3/4)l("nainiu",1,0,124,70,a.width/2,a.height/2,124*a.scale,70*a.scale,c.graphics.ANCHOR_HV);else j.ap>j.ap_*3/4&&j.ap<=j.ap_&&l("nainiu",0,0,124,70,a.width/2,a.height/2,124*a.scale,70*a.scale,c.graphics.ANCHOR_HV);if(i.isEnable||j.isEnable)for(b=ob.length-1;b>=0;b--){c.canvas.drawImage(Na.getFrame().imageid,Na.getFrame().sx,Na.getFrame().sy,Na.getFrame().width,Na.getFrame().height,ob[b].x,ob[b].y,Na.getFrame().width*a.scale,Na.getFrame().height*a.scale,c.graphics.ANCHOR_HV);Na.nextFrame();Na.endFrame()&&
ob.splice(b,1)}if(m.isEnable||o.isEnable)eb(d.sf/100,d.sf/100*a.scale,"gb2",d.tx,d.ty-80*a.scale,fb+=5,0,0,200,200,c.graphics.ANCHOR_HV);if(N.isEnable){eb(d.sf/100,d.sf/100*a.scale,"mzj",d.tx,d.ty-80*a.scale,fb+=5,0,0,75,75,c.graphics.ANCHOR_HV);eb(d.sf/100,d.sf/100*a.scale,"mzj",d.tx,d.ty-80*a.scale,-fb,1,0,75,75,c.graphics.ANCHOR_HV);if(d.state==P){c.canvas.drawImage(W.getFrame().imageid,W.getFrame().sx,W.getFrame().sy,W.getFrame().width,W.getFrame().height,d.tx,d.ty-80*a.scale,W.getFrame().width*
a.scale,W.getFrame().height*a.scale,c.graphics.ANCHOR_HV);W.nextFrame();if(d.time>N.speed){d.time=0;d.attack=true}else d.time++}}for(b=Pa.length-1;b>=0;b--)for(var f=Pa[b],h=b,g=f.shrapnel.length-1;g>=0;g--)switch(f.shrapnel[g].state){case 0:f.shrapnel[g].x=f.x;f.shrapnel[g].y=f.y;f.shrapnel[g].tx=c.commandFuns.getRandom(f.x-f.r,f.x+f.r);f.shrapnel[g].ty=c.commandFuns.getRandom(f.y-f.r,f.y+f.r);f.shrapnel[g].vxy=lb(c.commandFuns.getRandom(4,10),f.x,f.y,f.shrapnel[g].tx,f.shrapnel[g].ty);f.shrapnel[g].state=
1;f.shrapnel[g].imgIndex=c.commandFuns.getRandom(0,3);break;case 1:c.canvas.drawImage("bombs",mb[f.shrapnel[g].imgIndex][0],mb[f.shrapnel[g].imgIndex][1],mb[f.shrapnel[g].imgIndex][2],mb[f.shrapnel[g].imgIndex][3],f.shrapnel[g].x,f.shrapnel[g].y,mb[f.shrapnel[g].imgIndex][2],mb[f.shrapnel[g].imgIndex][3]);f.shrapnel[g].x+=f.shrapnel[g].vxy[0];f.shrapnel[g].y+=f.shrapnel[g].vxy[1];if(f.shrapnel[g].vxy[0]>0){if(f.shrapnel[g].x>f.shrapnel[g].tx){f.shrapnel.splice(g,1);if(f.shrapnel.length==0){Pa.splice(h,
1);if(fa==T.length/5)if(gb==T.length/5){x=jb;if(d.state==P)d.state=ya}}}}else if(f.shrapnel[g].vxy[0]<0)if(f.shrapnel[g].x<f.shrapnel[g].tx){f.shrapnel.splice(g,1);if(f.shrapnel.length==0){Pa.splice(h,1);if(fa==T.length/5)if(gb==T.length/5){x=jb;if(d.state==P)d.state=ya}}}}q("bom_bg",0,0,480,55,a.width/2,a.height,480*a.scale,55*a.scale,c.graphics.ANCHOR_HB);c.canvas.drawImage("hpback",0,0,110,31,45*a.scale,a.height-24*a.scale,110*a.scale,31*a.scale,c.graphics.ANCHOR_LV);c.canvas.drawNumber(d.hp,"num",
19,18,120*a.scale,a.height-33*a.scale,false,19*a.scale,18*a.scale);c.canvas.drawImage("bfh",0,0,24,18,120*a.scale,a.height-33*a.scale,24*a.scale,18*a.scale,c.graphics.ANCHOR_LT);l("head",parseInt(6-d.hp/15)>5?5:parseInt(6-d.hp/15),0,50,55,15*a.scale,a.height-27*a.scale,50*a.scale,55*a.scale,c.graphics.ANCHOR_LV);l(Q(t),0,0,t.w,t.h,t.x,t.y,t.w*a.scale,t.h*a.scale);l(Q(u),0,0,u.w,u.h,u.x,u.y,u.w*a.scale,u.h*a.scale);l(Q(v),0,0,v.w,v.h,v.x,v.y,v.w*a.scale,v.h*a.scale);x==wa&&l("sz",0,0,33,43,t.x+110*
a.scale*d.kcIndex+20*a.scale,t.y-30*a.scale,33*a.scale,43*a.scale);b=pb();switch(z){case 1:kb(b[0],b[1],-2,c.commandFuns.getRandom(5,20),c.commandFuns.getRandom(5,20),c.commandFuns.getRandom(0,a.width-50));pb();break;case 2:kb(b[0],b[1],-2,c.commandFuns.getRandom(5,20),c.commandFuns.getRandom(5,20),c.commandFuns.getRandom(0,a.width-50));b=pb();kb(b[0],b[1],-2,c.commandFuns.getRandom(5,20),c.commandFuns.getRandom(5,20),c.commandFuns.getRandom(0,a.width-50));break;case 3:kb(b[0],b[1],-2,c.commandFuns.getRandom(5,
20),c.commandFuns.getRandom(5,20),c.commandFuns.getRandom(0,a.width-50));b=pb();kb(b[0],b[1],-2,c.commandFuns.getRandom(5,20),c.commandFuns.getRandom(5,20),c.commandFuns.getRandom(0,a.width-50));b=pb();kb(b[0],b[1],-2,c.commandFuns.getRandom(5,20),c.commandFuns.getRandom(5,20),c.commandFuns.getRandom(0,a.width-50))}for(b=R.length-1;b>=0;b--){c.canvas.setColor("rgb(255, 255, 255)");c.canvas.drawLine(R[b].x1,R[b].y1,R[b].x2,R[b].y2);R[b].x1-=R[b].speed;R[b].x2-=R[b].speed;R[b].y1+=parseInt(R[b].speed*
2/3);R[b].y2+=parseInt(R[b].speed*2/3);if(R[b].x1<R[b].tx||R[b].y2>a.height-55*a.scale)R.splice(b,1)}}function pb(){switch(c.commandFuns.getRandom(1,2)){case 0:return[0,c.commandFuns.getRandom(0,a.height-50*a.scale)];case 1:return[c.commandFuns.getRandom(50*a.scale,a.width),0];case 2:return[a.width,c.commandFuns.getRandom(0,a.height-50*a.scale)]}}function lb(b,f,h,g,O){if(f==g&&h==O)return[0,0];f=g-f;g=h-O;f=Math.acos(f/Math.sqrt(f*f+g*g));if(O<h)f=Math.PI*2-f;h=f;return[b*Math.cos(h),b*Math.sin(h)]}
a.initCanvas();a.showClue=function(){window.scrollTo(0,-5);a.ctx.fillStyle="#ffffff";a.ctx.fillRect(0,0,a.width,a.height);a.ctx.drawImage(c.getImage("h"),(a.width-153)/2,(a.height-122)/2)};var ua=0,Rb=encode(["user1",""]),p={ret:-1,saveList:[{isOpen:0,money:0},{isOpen:0,money:0},{isOpen:0,money:0}]},S=[[1,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],J=[1,0,0,0,0,0],Jb=0,Sb=function(){c.ajax({type:"post",dataType:"json",data:"uid=user1&auth="+Rb,url:"http://phone.leiyoo.com:9999/gamesave/haiyuweijiGetSaveList.action",
before:function(){},success:function(b){p=b;G.state=p.saveList[0].isOpen;H.state=p.saveList[1].isOpen;I.state=p.saveList[2].isOpen},error:function(b,f){f=="timeout"?alert("\u8054\u7f51\u8d85\u65f6"):alert("\u8054\u7f51\u9519\u8bef"+f)},complete:function(){isSend=false}})},k;isSaveData&&function(){c.ajax({type:"post",dataType:"json",data:"uid=user1&auth="+Rb,url:"http://phone.leiyoo.com:9999/gamesave/haiyuweijiCheckSaveList.action",before:function(){},success:function(b){b.ret==0&&Sb()},error:function(b,
f){f=="timeout"?alert("\u8054\u7f51\u8d85\u65f6"):alert("\u8054\u7f51\u9519\u8bef"+f)},complete:function(){isSend=false}})}();var Zb=function(b){b=encode(["user1",b]);c.ajax({type:"get",dataType:"json",url:"http://phone.leiyoo.com:9999/gamesave/haiyuweijiDelete.action?uid=user1&item="+ua+"&auth="+b,before:function(){},success:function(){Sb()},error:function(f,h){h=="timeout"?alert("\u8054\u7f51\u8d85\u65f6"):alert("\u8054\u7f51\u9519\u8bef"+h)},complete:function(){isSend=false}})},Fb=function(b,f,
h,g,O,E,ga,aa,Ea,Fa,Ab,Tb,Ub,Vb,Wb){var $b=encode([b,f,h,g,O,E,ga,aa,Ea,Fa,Ab,Tb,Ub,Vb,Wb,"0"]);c.ajax({type:"get",dataType:"json",url:"http://phone.leiyoo.com:9999/gamesave/haiyuweijiSave.action?uid="+b+"&item="+f+"&isOpen="+h+"&money="+g+"&btn_arm_1="+O+"&btn_arm_2="+E+"&btn_arm_3="+ga+"&levelData="+aa+"&armState="+Ea+"&gun1="+Fa+"&gun2="+Ab+"&gun3="+Tb+"&gun4="+Ub+"&gun5="+Vb+"&gun6="+Wb+"&isshare=0&auth="+$b,before:function(){},success:function(){},error:function(ac,Xb){Xb=="timeout"?alert("\u8054\u7f51\u8d85\u65f6"):
alert("\u8054\u7f51\u9519\u8bef"+Xb)},complete:function(){isSend=false}})},z=0,$=0,B=0,y=9999,yb=0,Cb=0,Da=true,Eb=false,ba=[],Yb=["bg"],wa=1001,jb=1003,nb=1004,ta=1007,Ga=1009,x=1E3,rb=(a.width-92*a.scale)/2,G,H,I,ca,da,ea,X,Y,Z,Kb,ha,ia,ja,ka,la,K,F,xa,ma,r,s,na,oa,t={},u={},v={},sb,A,tb,ub,vb,pa,qa,ra,sa;Oa();t.state=-1;u.state=-5;v.state=-5;var D={isEnable:false,speed:10,ap:10,maxap:30,num:-1,reset:-1,control:true},i={isEnable:false,speed:3,ap:100,num:0,reset:1E3,maxap:500,control:true,ap_:100},
m={isEnable:false,speed:50,ap:20,num:0,reset:250,maxap:40,control:true},N={isEnable:false,speed:8,ap:40,num:-1,reset:-1,maxap:60},j={isEnable:false,speed:3,ap:600,num:0,reset:1E3,maxap:1E3,ap_:600},o={isEnable:false,speed:50,ap:60,num:0,reset:250,maxap:80},M=1E3,P=1001,ya=1002,L=1003,d={x:a.width/2,y:a.height,tx:0,ty:0,state:M,armId:0,sf:100,hp:100,kcIndex:0,time:0,attack:false,armGun1:{},armGun2:{},armGun3:{}},T=[],e=[],fa=0,gb=0,Pa=[],mb=[[1,1,18,19],[21,1,13,13],[21,16,10,10],[32,16,8,7]],fb=0;
k=[{i:0,imageid:"enemy1",sx:0,sy:0,width:64,height:50,dx:0,dy:0,step:20},{i:1,imageid:"enemy1",sx:64,sy:0,width:64,height:50,dx:0,dy:0,step:20},{i:2,imageid:"enemy1",sx:128,sy:0,width:64,height:50,dx:0,dy:0,step:20},{i:3,imageid:"enemy1",sx:192,sy:0,width:64,height:50,dx:0,dy:0,step:20},{i:4,imageid:"enemy1",sx:256,sy:0,width:64,height:50,dx:0,dy:0,step:20},{i:5,imageid:"enemy1",sx:320,sy:0,width:64,height:50,dx:0,dy:0,step:20},{i:6,imageid:"enemy1",sx:384,sy:0,width:64,height:50,dx:0,dy:0,step:10},
{i:7,imageid:"enemy1",sx:448,sy:0,width:64,height:50,dx:0,dy:0,step:10}];var Ra=new c.action.sprite([k[0],k[1],k[2],k[3],k[4],k[5]],true,0,0),Ha=new c.action.sprite([k[6],k[7]],false,0,0);k=[{i:0,imageid:"enemy2",sx:0,sy:0,width:56,height:61,dx:0,dy:0,step:20},{i:1,imageid:"enemy2",sx:56,sy:0,width:56,height:61,dx:0,dy:0,step:20},{i:2,imageid:"enemy2",sx:112,sy:0,width:56,height:61,dx:0,dy:0,step:20},{i:3,imageid:"enemy2",sx:168,sy:0,width:56,height:61,dx:0,dy:0,step:20},{i:4,imageid:"enemy2",sx:224,
sy:0,width:56,height:61,dx:0,dy:0,step:20},{i:5,imageid:"enemy2",sx:280,sy:0,width:56,height:61,dx:0,dy:0,step:10},{i:6,imageid:"enemy2",sx:336,sy:0,width:56,height:61,dx:0,dy:0,step:10}];var Sa=new c.action.sprite([k[0],k[1],k[2],k[3],k[4]],true,0,0),Ia=new c.action.sprite([k[5],k[6]],false,0,0);k=[{i:0,imageid:"enemy3",sx:0,sy:0,width:102,height:70,dx:0,dy:0,step:20},{i:1,imageid:"enemy3",sx:102,sy:0,width:102,height:70,dx:0,dy:0,step:20},{i:2,imageid:"enemy3",sx:204,sy:0,width:102,height:70,dx:0,
dy:0,step:20},{i:3,imageid:"enemy3",sx:306,sy:0,width:102,height:70,dx:0,dy:0,step:20},{i:4,imageid:"enemy3",sx:408,sy:0,width:102,height:70,dx:0,dy:0,step:10},{i:5,imageid:"enemy3",sx:510,sy:0,width:102,height:70,dx:0,dy:0,step:10}];var Ta=new c.action.sprite([k[0],k[1],k[2],k[3]],true,0,0),Ja=new c.action.sprite([k[4],k[5]],false,0,0);k=[{i:0,imageid:"enemy4",sx:0,sy:0,width:129,height:130,dx:0,dy:0,step:20},{i:1,imageid:"enemy4",sx:129,sy:0,width:129,height:130,dx:0,dy:0,step:20},{i:2,imageid:"enemy4",
sx:258,sy:0,width:129,height:130,dx:0,dy:0,step:20},{i:3,imageid:"enemy4",sx:387,sy:0,width:129,height:130,dx:0,dy:0,step:20},{i:4,imageid:"enemy4",sx:516,sy:0,width:129,height:130,dx:0,dy:0,step:20},{i:5,imageid:"enemy4",sx:645,sy:0,width:129,height:130,dx:0,dy:0,step:20},{i:6,imageid:"enemy4",sx:774,sy:0,width:129,height:130,dx:0,dy:0,step:20},{i:7,imageid:"enemy4",sx:903,sy:0,width:129,height:130,dx:0,dy:0,step:20},{i:8,imageid:"enemy4",sx:1032,sy:0,width:129,height:130,dx:0,dy:0,step:10},{i:9,
imageid:"enemy4",sx:1161,sy:0,width:129,height:130,dx:0,dy:0,step:10}];var Ua=new c.action.sprite([k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7]],true,0,0),Ka=new c.action.sprite([k[8],k[9]],false,0,0);k=[{i:0,imageid:"enemy5",sx:0,sy:0,width:82,height:128,dx:0,dy:0,step:20},{i:1,imageid:"enemy5",sx:82,sy:0,width:82,height:128,dx:0,dy:0,step:20},{i:2,imageid:"enemy5",sx:164,sy:0,width:82,height:128,dx:0,dy:0,step:20},{i:3,imageid:"enemy5",sx:246,sy:0,width:82,height:128,dx:0,dy:0,step:20},{i:4,imageid:"enemy5",
sx:328,sy:0,width:82,height:128,dx:0,dy:0,step:20},{i:5,imageid:"enemy5",sx:410,sy:0,width:82,height:128,dx:0,dy:0,step:20},{i:6,imageid:"enemy5",sx:492,sy:0,width:82,height:128,dx:0,dy:0,step:10},{i:7,imageid:"enemy5",sx:574,sy:0,width:82,height:128,dx:0,dy:0,step:10}];var Va=new c.action.sprite([k[0],k[1],k[2],k[3],k[4],k[5]],true,0,0),La=new c.action.sprite([k[6],k[7]],false,0,0);k=[{i:0,imageid:"enemy6",sx:0,sy:0,width:115,height:123,dx:0,dy:0,step:20},{i:1,imageid:"enemy6",sx:115,sy:0,width:115,
height:123,dx:0,dy:0,step:20},{i:2,imageid:"enemy6",sx:230,sy:0,width:115,height:123,dx:0,dy:0,step:20},{i:3,imageid:"enemy6",sx:345,sy:0,width:115,height:123,dx:0,dy:0,step:20},{i:4,imageid:"enemy6",sx:460,sy:0,width:115,height:123,dx:0,dy:0,step:10},{i:5,imageid:"enemy6",sx:575,sy:0,width:115,height:123,dx:0,dy:0,step:10}];var Wa=new c.action.sprite([k[0],k[1],k[2],k[3]],true,0,0),Ma=new c.action.sprite([k[4],k[5]],false,0,0),Xa=new c.action.sprite([{i:0,imageid:"hero1",sx:0,sy:0,width:119,height:160,
dx:0,dy:0,step:2},{i:1,imageid:"hero1",sx:119,sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:2,imageid:"hero1",sx:238,sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:3,imageid:"hero1",sx:357,sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:4,imageid:"hero1",sx:476,sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:5,imageid:"hero1",sx:595,sy:0,width:119,height:160,dx:0,dy:0,step:2}],true,0,0),Ya=new c.action.sprite([{i:0,imageid:"hero2",sx:0,sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:1,imageid:"hero2",
sx:119,sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:2,imageid:"hero2",sx:238,sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:3,imageid:"hero2",sx:357,sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:4,imageid:"hero2",sx:476,sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:5,imageid:"hero2",sx:595,sy:0,width:119,height:160,dx:0,dy:0,step:2}],true,0,0);k=[{i:0,imageid:"hero3",sx:0,sy:0,width:105,height:120,dx:0,dy:0,step:2},{i:1,imageid:"hero3",sx:105,sy:0,width:105,height:120,dx:0,dy:0,step:2},{i:2,imageid:"hero3",
sx:210,sy:0,width:105,height:120,dx:0,dy:0,step:2},{i:3,imageid:"hero3",sx:315,sy:0,width:105,height:120,dx:0,dy:0,step:2},{i:4,imageid:"hero3",sx:420,sy:0,width:105,height:120,dx:0,dy:0,step:20}];var Za=new c.action.sprite([k[0],k[1],k[2],k[3],k[1],k[2],k[3],k[1],k[2],k[3],k[4]],true,0,0),U=new c.action.sprite([{i:0,imageid:"cd",sx:0,sy:0,width:91,height:118,dx:0,dy:0,step:2},{i:1,imageid:"cd",sx:91,sy:0,width:91,height:118,dx:0,dy:0,step:2},{i:2,imageid:"cd",sx:182,sy:0,width:91,height:118,dx:0,
dy:0,step:2},{i:3,imageid:"cd",sx:273,sy:0,width:91,height:118,dx:0,dy:0,step:2}],true,0,0),V=new c.action.sprite([{i:0,imageid:"ny",sx:0,sy:0,width:84,height:117,dx:0,dy:0,step:2},{i:1,imageid:"ny",sx:84,sy:0,width:84,height:117,dx:0,dy:0,step:2},{i:2,imageid:"ny",sx:168,sy:0,width:84,height:117,dx:0,dy:0,step:2},{i:3,imageid:"ny",sx:252,sy:0,width:84,height:117,dx:0,dy:0,step:2}],true,0,0),za=new c.action.sprite([{i:0,imageid:"h_wq3_r",sx:0,sy:0,width:204,height:170,dx:0,dy:0,step:10},{i:1,imageid:"h_wq3_r",
sx:204,sy:0,width:204,height:170,dx:0,dy:0,step:10},{i:2,imageid:"h_wq3_r",sx:408,sy:0,width:204,height:170,dx:0,dy:0,step:10},{i:3,imageid:"h_wq3_r",sx:612,sy:0,width:204,height:170,dx:0,dy:0,step:10}],false,0,0),Aa=new c.action.sprite([{i:0,imageid:"h_wq3_l",sx:0,sy:0,width:204,height:170,dx:0,dy:0,step:10},{i:1,imageid:"h_wq3_l",sx:204,sy:0,width:204,height:170,dx:0,dy:0,step:10},{i:2,imageid:"h_wq3_l",sx:408,sy:0,width:204,height:170,dx:0,dy:0,step:10},{i:3,imageid:"h_wq3_l",sx:612,sy:0,width:204,
height:170,dx:0,dy:0,step:10}],false,0,0),$a=new c.action.sprite([{i:0,imageid:"h_wq3_cd",sx:0,sy:0,width:158,height:125,dx:0,dy:0,step:10},{i:1,imageid:"h_wq3_cd",sx:158,sy:0,width:158,height:125,dx:0,dy:0,step:10},{i:2,imageid:"h_wq3_cd",sx:316,sy:0,width:158,height:125,dx:0,dy:0,step:10},{i:3,imageid:"h_wq3_cd",sx:474,sy:0,width:158,height:125,dx:0,dy:0,step:10}],true,0,0),ab=new c.action.sprite([{i:0,imageid:"h_wq4_r",sx:0,sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:1,imageid:"h_wq4_r",sx:119,
sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:2,imageid:"h_wq4_r",sx:238,sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:3,imageid:"h_wq4_r",sx:357,sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:4,imageid:"h_wq4_r",sx:476,sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:5,imageid:"h_wq4_r",sx:595,sy:0,width:119,height:160,dx:0,dy:0,step:2}],true,0,0),bb=new c.action.sprite([{i:0,imageid:"h_wq4_l",sx:0,sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:1,imageid:"h_wq4_l",sx:119,sy:0,width:119,height:160,
dx:0,dy:0,step:2},{i:2,imageid:"h_wq4_l",sx:238,sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:3,imageid:"h_wq4_l",sx:357,sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:4,imageid:"h_wq4_l",sx:476,sy:0,width:119,height:160,dx:0,dy:0,step:2},{i:5,imageid:"h_wq4_l",sx:595,sy:0,width:119,height:160,dx:0,dy:0,step:2}],true,0,0);k=[{i:0,imageid:"h_wq4_cd",sx:0,sy:0,width:125,height:120,dx:0,dy:0,step:2},{i:1,imageid:"h_wq4_cd",sx:125,sy:0,width:125,height:120,dx:0,dy:0,step:2},{i:2,imageid:"h_wq4_cd",sx:250,
sy:0,width:125,height:120,dx:0,dy:0,step:2},{i:3,imageid:"h_wq4_cd",sx:375,sy:0,width:125,height:120,dx:0,dy:0,step:2},{i:4,imageid:"h_wq4_cd",sx:500,sy:0,width:125,height:120,dx:0,dy:0,step:20}];var cb=new c.action.sprite([k[0],k[1],k[2],k[3],k[1],k[2],k[3],k[1],k[2],k[3],k[4]],true,0,0),Ba=new c.action.sprite([{i:0,imageid:"h_wq6_r",sx:0,sy:0,width:204,height:170,dx:0,dy:0,step:10},{i:1,imageid:"h_wq6_r",sx:204,sy:0,width:204,height:170,dx:0,dy:0,step:10},{i:2,imageid:"h_wq6_r",sx:408,sy:0,width:204,
height:170,dx:0,dy:0,step:10},{i:3,imageid:"h_wq6_r",sx:612,sy:0,width:204,height:170,dx:0,dy:0,step:10}],false,0,0),Ca=new c.action.sprite([{i:0,imageid:"h_wq6_l",sx:0,sy:0,width:204,height:170,dx:0,dy:0,step:10},{i:1,imageid:"h_wq6_l",sx:204,sy:0,width:204,height:170,dx:0,dy:0,step:10},{i:2,imageid:"h_wq6_l",sx:408,sy:0,width:204,height:170,dx:0,dy:0,step:10},{i:3,imageid:"h_wq6_l",sx:612,sy:0,width:204,height:170,dx:0,dy:0,step:10}],false,0,0),db=new c.action.sprite([{i:0,imageid:"h_wq6_cd",sx:0,
sy:0,width:158,height:125,dx:0,dy:0,step:10},{i:1,imageid:"h_wq6_cd",sx:158,sy:0,width:158,height:125,dx:0,dy:0,step:10},{i:2,imageid:"h_wq6_cd",sx:316,sy:0,width:158,height:125,dx:0,dy:0,step:10},{i:3,imageid:"h_wq6_cd",sx:474,sy:0,width:158,height:125,dx:0,dy:0,step:10}],true,0,0),Na=new c.action.sprite([{i:0,imageid:"peng",sx:0,sy:0,width:44,height:37,dx:0,dy:0,step:2},{i:1,imageid:"peng",sx:44,sy:0,width:44,height:37,dx:0,dy:0,step:2}],false,0,0),ob=[],W=new c.action.sprite([{i:0,imageid:"bz1",
sx:0,sy:0,width:23,height:22,dx:0,dy:0,step:3},{i:1,imageid:"bz1",sx:23,sy:0,width:23,height:22,dx:0,dy:0,step:3},{i:2,imageid:"bz1",sx:46,sy:0,width:23,height:22,dx:0,dy:0,step:3},{i:0,imageid:"bz1",sx:69,sy:0,width:23,height:22,dx:0,dy:0,step:3}],true,0,0),n=[],C={id:0,xs:[0,0],x:0,y:0,scale:0};c.events.orientationChange(function(){Jb=0;window.orientation==0&&c.canvas.screen.setHeight(window.innerHeight+98)});var Bb=function(b){if(S[z][$]==2)y+=1;else switch(b){case 0:y+=5;break;case 1:y+=10;break;
case 2:y+=15;break;case 3:y+=20;break;case 4:y+=200;break;case 5:y+=500;break;case 6:y+=5}},Qa=[15*a.scale,20*a.scale,20*a.scale,30*a.scale,40*a.scale,30*a.scale,60*a.scale,50*a.scale,30*a.scale,40*a.scale,50*a.scale,50*a.scale],R=[];(function(){window.scrollTo(0,-5);c.events.open();c.events.touchNull=function(f,h,g){switch(f){case "touchStart":switch(x){case 1E3:w(ca,h,g);w(X,h,g);w(da,h,g);w(ea,h,g);break;case 1006:switch(G.state){case 0:w(G,h,g);break;case 1:w(tb,h,g)||w(G,h,g)}switch(H.state){case 0:w(H,
h,g);break;case 1:w(ub,h,g)||w(H,h,g)}switch(I.state){case 0:w(I,h,g);break;case 1:w(vb,h,g)||w(I,h,g)}w(A,h,g);break;case 1010:w(pa,h,g);w(qa,h,g);break;case ta:w(ha,h,g);w(ia,h,g);w(ja,h,g);w(ka,h,g);w(la,h,g);z>0&&w(K,h,g);z<3&&w(F,h,g);w(A,h,g);break;case Ga:if(C.id==0){w(K,h,g);w(F,h,g);w(A,h,g);w(ma,h,g);w(s,h,g);w(r,h,g);w(sb,h,g);w(t,h,g);w(u,h,g);w(v,h,g)}break;case wa:if(!w(Y,h,g)&&!w(Z,h,g)&&!w(t,h,g)&&!w(u,h,g)&&!w(v,h,g))switch(d.armId){case 0:d.tx=h;d.ty=g;d.state=P;D.isEnable=true;
d.sf=100;d.time=0;break;case 1:if(i.num==1){i.num--;i.isEnable=true;i.ap=i.ap_;Nb();if(d.state!=L){d.state=L;i.reset=1E3}}break;case 2:if(m.num>0){d.tx=h;d.ty=g;d.state=P;m.isEnable=true;d.sf=100;d.time=0;za.setFrame(0);Aa.setFrame(0);Ib();m.num--}break;case 3:d.tx=h;d.ty=g;d.state=P;N.isEnable=true;d.sf=100;d.time=0;break;case 4:if(j.num==1){j.num--;j.isEnable=true;j.ap=j.ap_;Nb();if(d.state!=L){d.state=L;j.reset=1E3}}break;case 5:if(o.num>0){d.tx=h;d.ty=g;d.state=P;o.isEnable=true;d.sf=100;d.time=
0;Ba.setFrame(0);Ca.setFrame(0);Ib();o.num--}}break;case 1002:w(na,h,g);w(oa,h,g);break;case jb:w(ra,h,g);break;case nb:w(sa,h,g)}break;case "touchMove":switch(x){case wa:if(!m.isEnable&&!o.isEnable){d.tx=h;d.ty=g}if(D.isEnable||N.isEnable)!w(Y,h,g)&&!w(Z,h,g)&&!w(t,h,g)&&!w(u,h,g)&&!w(v,h,g)&&Ib()}break;case "touchEnd":switch(x){case 1E3:if(ca.isPressed){ca.isPressed=false;x=9001}else if(da.isPressed){da.isPressed=false;x=1005}else if(ea.isPressed){ea.isPressed=false;window.close()}else if(X.isPressed){X.isPressed=
false;if(Da){Da=false;ba[0].pause()}else{Da=true;ba[0].play()}}else if(Kb.isPressed){a.isShowClue1=false;a.isFirstInGame=false}break;case 1006:if(G.isPressed){switch(G.state){case 0:G.state=1;isSaveData&&Fb("user1",1,1,0,-1,-5,-5,"10000000000000000000","100000","{isEnable : false, ap : 10, control : true}","{isEnable : false, ap : 100, control : true}","{isEnable : false, ap : 20, control : true}","{isEnable : false, ap : 40}","{isEnable : false, ap : 600}","{isEnable : false, ap : 60}");break;case 1:x=
ta;isSaveData&&wb(0);xb(0);ua=1}G.isPressed=false}if(H.isPressed){switch(H.state){case 0:H.state=1;isSaveData&&Fb("user1",2,1,0,-1,-5,-5,"10000000000000000000","100000","{isEnable : false, ap : 10, control : true}","{isEnable : false, ap : 100, control : true}","{isEnable : false, ap : 20, control : true}","{isEnable : false, ap : 40}","{isEnable : false, ap : 600}","{isEnable : false, ap : 60}");break;case 1:x=ta;isSaveData&&wb(1);xb(0);ua=2}H.isPressed=false}if(I.isPressed){switch(I.state){case 0:I.state=
1;isSaveData&&Fb("user1",3,1,0,-1,-5,-5,"10000000000000000000","100000","{isEnable : false, ap : 10, control : true}","{isEnable : false, ap : 100, control : true}","{isEnable : false, ap : 20, control : true}","{isEnable : false, ap : 40}","{isEnable : false, ap : 600}","{isEnable : false, ap : 60}");break;case 1:x=ta;isSaveData&&wb(2);xb(0);ua=3}I.isPressed=false}if(A.isPressed){A.isPressed=false;x=1E3}if(tb.isPressed){tb.isPressed=false;x=1010;ua=1}if(ub.isPressed){ub.isPressed=false;x=1010;ua=
2}if(vb.isPressed){vb.isPressed=false;x=1010;ua=3}break;case 1010:if(pa.isPressed){pa.isPressed=false;isSaveData&&Zb(ua);x=1006}if(qa.isPressed){qa.isPressed=false;x=1006}break;case ta:if(A.isPressed){A.isPressed=false;x=1006}if(K.isPressed){K.isPressed=false;z>0&&z--}if(F.isPressed){F.isPressed=false;z<3&&z++}if(ha.isPressed){ha.isPressed=false;if(va(z,0)==1){x=Ga;$=0;T=allEnemyData[z][$]}}if(ia.isPressed){ia.isPressed=false;if(va(z,1)==1){x=Ga;$=1;T=allEnemyData[z][$]}}if(ja.isPressed){ja.isPressed=
false;if(va(z,2)==1){x=Ga;$=2;T=allEnemyData[z][$]}}if(ka.isPressed){ka.isPressed=false;if(va(z,3)==1){x=Ga;$=3;T=allEnemyData[z][$]}}if(la.isPressed){la.isPressed=false;if(va(z,4)==1){x=Ga;$=4;T=allEnemyData[z][$]}}break;case Ga:if(A.isPressed){A.isPressed=false;x=ta;B=0}if(K.isPressed){K.isPressed=false;B>0&&B--}if(F.isPressed){F.isPressed=false;B<5&&B++}if(s.isPressed&&J[B]==1){s.isPressed=false;d.time=0}if(r.isPressed&&J[B]==1){r.isPressed=false;d.time=0}if(t.isPressed){t.isPressed=false;if(t.state>=
0)t.state=-1}if(u.isPressed){u.isPressed=false;if(u.state>=0)u.state=-1}if(v.isPressed){v.isPressed=false;if(v.state>=0)v.state=-1}if(ma.isPressed){ma.isPressed=false;if(Q(t)!="wq_null"&&Q(u)!="wq_null"&&Q(v)!="wq_null"){d.armId=t.state;d.kcIndex=0;x=wa;Cb=0;if(d.armId==1||d.armId==4)if(d.state!=L){d.state=L;i.reset=1E3}}}if(sb.isPressed){sb.isPressed=false;if(J[B]==1){if(Q(t)=="wq_null"||Q(u)=="wq_null"||Q(v)=="wq_null")if(B!=t.state&&B!=u.state&&B!=v.state)C.id=1}else switch(B){case 1:if(y>=500){y-=
500;J[B]=1;if(u.state==-5){u.state=-1;break}if(v.state==-5){v.state=-1;break}}break;case 2:if(y>=1E3){y-=1E3;J[B]=1;if(u.state==-5){u.state=-1;break}if(v.state==-5)v.state=-1}}}break;case wa:if(Y.isPressed){Y.isPressed=false;if(Da){Da=false;ba[0].pause()}else{Da=true;ba[0].play()}}else if(Z.isPressed){Z.isPressed=false;Eb=true;x=1002}else if(t.isPressed){t.isPressed=false;if(d.state==M||d.state==L)if(d.armId!=t.state&&t.state>=0){d.armId=t.state;if(d.armId==1&&i.num<1)d.state=L;if(d.armId==4&&j.num<
1)d.state=L;d.kcIndex=0}}else if(u.isPressed){u.isPressed=false;if(d.state==M||d.state==L)if(d.armId!=u.state&&u.state>=0){d.armId=u.state;if(d.armId==1&&i.num<1)d.state=L;if(d.armId==4&&j.num<1)d.state=L;d.kcIndex=1}}else if(v.isPressed){v.isPressed=false;if(d.state==M||d.state==L)if(d.armId!=v.state&&v.state>=0){d.armId=v.state;if(d.armId==1&&i.num<1)d.state=L;if(d.armId==4&&j.num<1)d.state=L;d.kcIndex=2}}else switch(d.armId){case 0:d.state=ya;break;case 3:d.state=ya}break;case 1002:if(na.isPressed){na.isPressed=
false;x=wa;Eb=false}if(oa.isPressed){oa.isPressed=false;x=ta;Gb();Eb=false}break;case jb:if(ra.isPressed){ra.isPressed=false;xb(1);f=ua-1;if(S[z][$]==1){S[z][$]=2;z=yb=Lb()}p.saveList[f].money=y;p.saveList[f].btn_arm_1=t.state;p.saveList[f].btn_arm_2=u.state;p.saveList[f].btn_arm_3=v.state;p.saveList[f].gun1=hb(D.isEnable,D.ap,D.control,0);p.saveList[f].gun2=hb(i.isEnable,i.ap,i.control,0);p.saveList[f].gun3=hb(m.isEnable,m.ap,m.control,0);p.saveList[f].gun4=hb(N.isEnable,N.ap,0,1);p.saveList[f].gun5=
hb(j.isEnable,j.ap,0,1);p.saveList[f].gun6=hb(o.isEnable,o.ap,0,1);p.saveList[f].armState=qb("wq");p.saveList[f].levelData=qb("gq");isSaveData&&Fb("user1",ua,1,p.saveList[f].money,p.saveList[f].btn_arm_1,p.saveList[f].btn_arm_2,p.saveList[f].btn_arm_3,p.saveList[f].levelData,p.saveList[f].armState,p.saveList[f].gun1,p.saveList[f].gun2,p.saveList[f].gun3,p.saveList[f].gun4,p.saveList[f].gun5,p.saveList[f].gun6)}break;case nb:if(sa.isPressed){sa.isPressed=false;x=ta;Gb()}break;case 1005:x=1E3}}};Da=
c.localStorage.getItem("S_isSoundOn")=="false"?false:true;ba=[];for(var b=0;b<Yb.length;b++){ba[b]=document.createElement("audio");ba[b].setAttribute("src","sound/"+Yb[b]+".mp3");ba[b].setAttribute("preload",true);ba[b].load()}if(Da){ba[0].setAttribute("autoplay",true);ba[0].setAttribute("loop",true);ba[0].addEventListener("canplaythrough",function(){ba[0].play()},true)}x=1E3})();c.run(function(){if(Jb==0){Jb++;a.initCanvas();Oa();G.state=p.saveList[0].isOpen;H.state=p.saveList[1].isOpen;I.state=
p.saveList[2].isOpen}else{window.scrollTo(0,-5);if(a.width>a.height)a.showClue();else{if(x==wa)if(fa<T.length/5)for(;T[fa*5]==Cb;){var b=T[fa*5+3];e.push({id:T[fa*5+1],x:T[fa*5+4]*a.scale,y:-50,speed:T[fa*5+2],hp:b,maxhp:b,state:i.isEnable||j.isEnable?2:0,att:0,vxy:[],gox:0,goy:0});fa++}x!=1002&&Cb++;c.canvas.clearScreen().fillStyle("rgb(0, 0, 0)").fillRect(0,0,a.width,a.height);switch(x){case 9001:d.sf-=5;if(d.sf<=0){d.sf=0;if(isSaveData){if(p.ret==0)x=9002}else x=9002}c.canvas.drawString("loading...",
a.width/2-c.canvas.measureText("loading...").width/2,a.height/2,c.graphics.CENTER,true,"rgb(0, 20, 0)","rgb(255, 255, 255)","20px Arial");case 1E3:a.ctx.save();a.ctx.globalAlpha=d.sf/100;q("logo",0,0,480,860,a.width/2,a.height,480*a.scale,860*a.scale,c.graphics.ANCHOR_HB);q("logo3",0,0,83,206,X.x+X.w*a.scale/2,a.height,83*a.scale,206*a.scale,c.graphics.ANCHOR_HB);q("logo4",0,0,353,443,a.width/2+45*a.scale,a.height,353*a.scale,443*a.scale,c.graphics.ANCHOR_HB);q("logo2",0,0,402,170,a.width/2,5*a.scale,
402*a.scale,170*a.scale,c.graphics.ANCHOR_HT);ca.draw("anniu_2",0,ca.isPressed?1:0,ca.w,ca.h,ca.x,ca.y,ca.w*a.scale,ca.h*a.scale);da.draw("anniu_2",0,da.isPressed?3:2,da.w,da.h,da.x,da.y,da.w*a.scale,da.h*a.scale);ea.draw("anniu_2",0,ea.isPressed?5:4,ea.w,ea.h,ea.x,ea.y,ea.w*a.scale,ea.h*a.scale);X.draw("anniu_2",0,Da?X.isPressed?7:6:X.isPressed?9:8,X.w,X.h,X.x,X.y,X.w*a.scale,X.h*a.scale);a.ctx.restore();isShowVersion&&c.canvas.drawString(verStr,0,20,c.graphics.LEFT,true,"rgb(0, 0, 0)","rgb(255, 255, 255)",
"20px Arial");break;case 1010:Mb();q("bc_btn_bg",0,0,426,189,(a.width-426*a.scale)/2,200*a.scale,426*a.scale,189*a.scale,c.graphics.ANCHOR_LT);l("bc_btn",0,pa.isPressed?1:0,pa.w,pa.h,pa.x,pa.y,pa.w*a.scale,pa.h*a.scale);l("bc_btn",0,qa.isPressed?3:2,qa.w,qa.h,qa.x,qa.y,qa.w*a.scale,qa.h*a.scale);break;case 9002:d.sf+=4;if(d.sf>=100){d.sf=100;x=1006}case 1006:a.ctx.save();a.ctx.globalAlpha=d.sf/100;Mb();a.ctx.restore();break;case ta:q("cl_bj",0,0,480,860,a.width/2,a.height,480*a.scale,860*a.scale,
c.graphics.ANCHOR_HB);q("top_bg",0,0,480,44,a.width/2,0,480*a.scale,44*a.scale,c.graphics.ANCHOR_HT);c.canvas.drawNumber(y,"num",19,18,450*a.scale,15*a.scale,false,19*a.scale,18*a.scale);l("bc_bk",0,A.isPressed?1:0,A.w,A.h,A.x,A.y,A.w*a.scale,A.h*a.scale);l("cl_sl",va(z,0)?0:1,z,350,181,(a.width-350*a.scale)/2,70*a.scale,350*a.scale,181*a.scale);if(z>0)l("cl_jt",0,K.isPressed?1:0,K.w,K.h,K.x,K.y,K.w*a.scale,K.h*a.scale);if(z<3)l("cl_jt",0,F.isPressed?3:2,F.w,F.h,F.x,F.y,F.w*a.scale,F.h*a.scale);l("cl_xg",
ha.isPressed?1:0,va(z,0)?0:5,ha.w,ha.h,ha.x,ha.y,ha.w*a.scale,ha.h*a.scale);l("cl_xg",ia.isPressed?1:0,va(z,1)?1:5,ia.w,ia.h,ia.x,ia.y,ia.w*a.scale,ia.h*a.scale);l("cl_xg",ja.isPressed?1:0,va(z,2)?2:5,ja.w,ja.h,ja.x,ja.y,ja.w*a.scale,ja.h*a.scale);l("cl_xg",ka.isPressed?1:0,va(z,3)?3:5,ka.w,ka.h,ka.x,ka.y,ka.w*a.scale,ka.h*a.scale);l("cl_xg",la.isPressed?1:0,va(z,4)?4:5,la.w,la.h,la.x,la.y,la.w*a.scale,la.h*a.scale);break;case Ga:q("bj"+yb,0,0,480,860,a.width/2,a.height,480*a.scale,860*a.scale,c.graphics.ANCHOR_HB);
q("top_bg",0,0,480,44,a.width/2,0,480*a.scale,44*a.scale,c.graphics.ANCHOR_HT);c.canvas.drawNumber(y,"num",19,18,450*a.scale,15*a.scale,false,19*a.scale,18*a.scale);Pb();q("bom_bg",0,0,480,55,a.width/2,a.height,480*a.scale,55*a.scale,c.graphics.ANCHOR_HB);l("bc_bk",0,A.isPressed?1:0,A.w,A.h,A.x,A.y,A.w*a.scale,A.h*a.scale);q("zb1",0,0,1092,240,150*a.scale-182*a.scale*B,190*a.scale,1092*a.scale,240*a.scale,c.graphics.ANCHOR_LV);J[B]==0&&q("zb_suo",0,0,111,129,a.width/2,190*a.scale,111*a.scale,129*
a.scale,c.graphics.ANCHOR_HV);q("zb2",0,0,480,240,a.width/2,190*a.scale,480*a.scale,240*a.scale,c.graphics.ANCHOR_HV);l("cl_jt",0,K.isPressed?1:0,K.w,K.h,K.x,K.y,K.w*a.scale,K.h*a.scale);l("cl_jt",0,F.isPressed?3:2,F.w,F.h,F.x,F.y,F.w*a.scale,F.h*a.scale);l(Q(t),0,0,t.w,t.h,t.x,t.y,t.w*a.scale,t.h*a.scale);l(Q(u),0,0,u.w,u.h,u.x,u.y,u.w*a.scale,u.h*a.scale);l(Q(v),0,0,v.w,v.h,v.x,v.y,v.w*a.scale,v.h*a.scale);l("zb_btn",0,ma.isPressed?1:0,ma.w,ma.h,ma.x,ma.y,ma.w*a.scale,ma.h*a.scale);switch(C.id){case 1:C.x=
150*a.scale;C.y=100*a.scale;if(Q(t)=="wq_null")C.xs=lb(20,C.x,C.y,t.x,t.y);else if(Q(u)=="wq_null")C.xs=lb(20,C.x,C.y,u.x,u.y);else if(Q(v)=="wq_null")C.xs=lb(20,C.x,C.y,v.x,v.y);C.id++;C.scale=100;break;case 2:C.scale-=2.26;eb(C.scale/100,C.scale/100*a.scale,"zb1",C.x,C.y,0,B,0,182,240,c.graphics.ANCHOR_LT);C.x+=C.xs[0];C.y+=C.xs[1];if(C.y>t.y-30){if(Q(t)=="wq_null"){t.state=B;C={id:0,xs:[0,0],x:0,y:0,scale:0};break}if(Q(u)=="wq_null"){u.state=B;C={id:0,xs:[0,0],x:0,y:0,scale:0};break}if(Q(v)=="wq_null"){v.state=
B;C={id:0,xs:[0,0],x:0,y:0,scale:0}}}}q("zb_bc",0,0,452,165,a.width/2,330*a.scale,452*a.scale,165*a.scale,c.graphics.ANCHOR_HT);switch(B){case 0:q("zb_atk",0,0,80,16,160*a.scale,350*a.scale,80*a.scale,16*a.scale,c.graphics.ANCHOR_RT);q("zb_add",0,0,117,19,160*a.scale,390*a.scale,117*a.scale,19*a.scale,c.graphics.ANCHOR_RT);c.canvas.drawNumber(D.ap,"zb_num",15,14,212*a.scale,352*a.scale,false,15*a.scale,14*a.scale);c.canvas.drawNumber(parseInt((D.ap-10)/20*100),"zb_num",15,14,210*a.scale,392*a.scale,
false,15*a.scale,14*a.scale);c.canvas.drawImage("zb_num",150,0,15,14,212*a.scale,392*a.scale,15*a.scale,14*a.scale,c.graphics.ANCHOR_LT);c.canvas.setColor("rgb(12, 0, 0)");c.canvas.fillRect(170*a.scale,430*a.scale,142*a.scale,14*a.scale);c.canvas.setColor("rgb(6, 8, 44)");c.canvas.fillRect(171*a.scale,431*a.scale,140*a.scale,12*a.scale);c.canvas.setColor("rgb(253, 158, 19)");c.canvas.fillRect(171*a.scale,431*a.scale,140*a.scale*(D.ap-10)/20,12*a.scale);if(J[B]==1&&D.control){l("zb_btn",0,r.isPressed?
3:2,r.w,r.h,r.x,r.y,r.w*a.scale,r.h*a.scale);l("zb_btn",0,s.isPressed?5:4,s.w,s.h,s.x,s.y,s.w*a.scale,s.h*a.scale);if(r.isPressed)if(y>=200)if(d.time==0){if(D.ap<30){D.ap++;n.push({state:0,tx:170*a.scale,ty:435*a.scale,x:a.width-55*a.scale,y:15*a.scale,xs:0,type:1});n.push({state:0,tx:170*a.scale,ty:435*a.scale,x:a.width-55*a.scale,y:15*a.scale,xs:0,type:1});n.push({state:0,tx:170*a.scale,ty:435*a.scale,x:a.width-55*a.scale,y:15*a.scale,xs:0,type:1});y-=200;Hb()}d.time++}else{d.time++;if(d.time==
3)d.time=0}if(s.isPressed)if(d.time==0){if(D.ap>10){D.ap--;n.push({state:0,x:165*a.scale,y:425*a.scale,tx:a.width-55*a.scale,ty:5*a.scale,xs:0,type:0});n.push({state:0,x:165*a.scale,y:425*a.scale,tx:a.width-55*a.scale,ty:5*a.scale,xs:0,type:0});n.push({state:0,x:165*a.scale,y:425*a.scale,tx:a.width-55*a.scale,ty:5*a.scale,xs:0,type:0});y+=200}d.time++}else{d.time++;if(d.time==3)d.time=0}}break;case 1:if(J[B]==1){q("zb_hp",0,0,31,16,160*a.scale,350*a.scale,31*a.scale,16*a.scale,c.graphics.ANCHOR_RT);
q("zb_add",0,0,117,19,160*a.scale,390*a.scale,117*a.scale,19*a.scale,c.graphics.ANCHOR_RT);c.canvas.drawNumber(i.ap,"zb_num",15,14,212*a.scale,352*a.scale,false,15*a.scale,14*a.scale);c.canvas.drawNumber(parseInt((i.ap-100)/400*100),"zb_num",15,14,210*a.scale,392*a.scale,false,15*a.scale,14*a.scale);c.canvas.drawImage("zb_num",150,0,15,14,212*a.scale,392*a.scale,15*a.scale,14*a.scale,c.graphics.ANCHOR_LT);c.canvas.setColor("rgb(12, 0, 0)");c.canvas.fillRect(170*a.scale,430*a.scale,142*a.scale,14*
a.scale);c.canvas.setColor("rgb(6, 8, 44)");c.canvas.fillRect(171*a.scale,431*a.scale,140*a.scale,12*a.scale);c.canvas.setColor("rgb(253, 158, 19)");c.canvas.fillRect(171*a.scale,431*a.scale,140*a.scale*(i.ap-100)/400,12*a.scale);if(D.control){l("zb_btn",0,r.isPressed?3:2,r.w,r.h,r.x,r.y,r.w*a.scale,r.h*a.scale);l("zb_btn",0,s.isPressed?5:4,s.w,s.h,s.x,s.y,s.w*a.scale,s.h*a.scale);if(r.isPressed)if(y>=20)if(d.time==0){if(i.ap<500){i.ap++;i.ap_=i.ap;n.push({state:0,tx:170*a.scale,ty:425*a.scale,x:a.width-
55*a.scale,y:15*a.scale,xs:0,type:1});y-=20;Hb()}d.time++}else{d.time++;if(d.time==3)d.time=0}if(s.isPressed)if(d.time==0){if(i.ap>100){i.ap--;i.ap_=i.ap;n.push({state:0,x:165*a.scale,y:425*a.scale,tx:a.width-55*a.scale,ty:5*a.scale,xs:0,type:0});y+=20}d.time++}else{d.time++;if(d.time==3)d.time=0}}}else q("jsz2",0,0,113,24,50*a.scale,370*a.scale,113*a.scale,24*a.scale,c.graphics.ANCHOR_LT);break;case 2:if(J[B]==1){q("zb_atk",0,0,80,16,160*a.scale,350*a.scale,80*a.scale,16*a.scale,c.graphics.ANCHOR_RT);
q("zb_add",0,0,117,19,160*a.scale,390*a.scale,117*a.scale,19*a.scale,c.graphics.ANCHOR_RT);q("zb_max",0,0,81,15,160*a.scale,465*a.scale,81*a.scale,15*a.scale,c.graphics.ANCHOR_RT);c.canvas.drawNumber(5,"zb_num",15,14,212*a.scale,467*a.scale,false,15*a.scale,14*a.scale);c.canvas.drawNumber(m.ap,"zb_num",15,14,212*a.scale,352*a.scale,false,15*a.scale,14*a.scale);c.canvas.drawNumber(parseInt((m.ap-20)/20*100),"zb_num",15,14,210*a.scale,392*a.scale,false,15*a.scale,14*a.scale);c.canvas.drawImage("zb_num",
150,0,15,14,212*a.scale,392*a.scale,15*a.scale,14*a.scale,c.graphics.ANCHOR_LT);c.canvas.setColor("rgb(12, 0, 0)");c.canvas.fillRect(170*a.scale,430*a.scale,142*a.scale,14*a.scale);c.canvas.setColor("rgb(6, 8, 44)");c.canvas.fillRect(171*a.scale,431*a.scale,140*a.scale,12*a.scale);c.canvas.setColor("rgb(253, 158, 19)");c.canvas.fillRect(171*a.scale,431*a.scale,140*a.scale*(m.ap-20)/20,12*a.scale);if(D.control){l("zb_btn",0,r.isPressed?3:2,r.w,r.h,r.x,r.y,r.w*a.scale,r.h*a.scale);l("zb_btn",0,s.isPressed?
5:4,s.w,s.h,s.x,s.y,s.w*a.scale,s.h*a.scale);if(r.isPressed)if(y>=500)if(d.time==0){if(m.ap<40){m.ap++;n.push({state:0,tx:170*a.scale,ty:425*a.scale,x:a.width-55*a.scale,y:15*a.scale,xs:0,type:1});n.push({state:0,tx:170*a.scale,ty:425*a.scale,x:a.width-55*a.scale,y:15*a.scale,xs:0,type:1});n.push({state:0,tx:170*a.scale,ty:425*a.scale,x:a.width-55*a.scale,y:15*a.scale,xs:0,type:1});y-=500;Hb()}d.time++}else{d.time++;if(d.time==3)d.time=0}if(s.isPressed)if(d.time==0){if(m.ap>20){m.ap--;n.push({state:0,
x:165*a.scale,y:425*a.scale,tx:a.width-55*a.scale,ty:5*a.scale,xs:0,type:0});n.push({state:0,x:165*a.scale,y:425*a.scale,tx:a.width-55*a.scale,ty:5*a.scale,xs:0,type:0});n.push({state:0,x:165*a.scale,y:425*a.scale,tx:a.width-55*a.scale,ty:5*a.scale,xs:0,type:0});y+=500}d.time++}else{d.time++;if(d.time==3)d.time=0}}}else q("jsz3",0,0,122,24,50*a.scale,370*a.scale,122*a.scale,24*a.scale,c.graphics.ANCHOR_LT);break;case 3:if(J[B]==1){q("zb_atk",0,0,80,16,160*a.scale,350*a.scale,80*a.scale,16*a.scale,
c.graphics.ANCHOR_RT);q("zb_add",0,0,117,19,160*a.scale,390*a.scale,117*a.scale,19*a.scale,c.graphics.ANCHOR_RT);c.canvas.drawNumber(N.ap,"zb_num",15,14,212*a.scale,352*a.scale,false,15*a.scale,14*a.scale);c.canvas.drawNumber(parseInt((N.ap-40)/20*100),"zb_num",15,14,210*a.scale,392*a.scale,false,15*a.scale,14*a.scale);c.canvas.drawImage("zb_num",150,0,15,14,212*a.scale,392*a.scale,15*a.scale,14*a.scale,c.graphics.ANCHOR_LT);c.canvas.setColor("rgb(12, 0, 0)");c.canvas.fillRect(170*a.scale,430*a.scale,
142*a.scale,14*a.scale);c.canvas.setColor("rgb(6, 8, 44)");c.canvas.fillRect(171*a.scale,431*a.scale,140*a.scale,12*a.scale);c.canvas.setColor("rgb(253, 158, 19)");c.canvas.fillRect(171*a.scale,431*a.scale,140*a.scale*(N.ap-40)/20,12*a.scale);l("zb_btn",0,r.isPressed?3:2,r.w,r.h,r.x,r.y,r.w*a.scale,r.h*a.scale);l("zb_btn",0,s.isPressed?5:4,s.w,s.h,s.x,s.y,s.w*a.scale,s.h*a.scale);if(r.isPressed)if(y>=300)if(d.time==0){if(N.ap<60){N.ap++;n.push({state:0,tx:170*a.scale,ty:425*a.scale,x:a.width-55*a.scale,
y:15*a.scale,xs:0,type:1});n.push({state:0,tx:170*a.scale,ty:425*a.scale,x:a.width-55*a.scale,y:15*a.scale,xs:0,type:1});n.push({state:0,tx:170*a.scale,ty:425*a.scale,x:a.width-55*a.scale,y:15*a.scale,xs:0,type:1});y-=300}d.time++}else{d.time++;if(d.time==3)d.time=0}if(s.isPressed)if(d.time==0){if(N.ap>40){N.ap--;n.push({state:0,x:165*a.scale,y:425*a.scale,tx:a.width-55*a.scale,ty:5*a.scale,xs:0,type:0});n.push({state:0,x:165*a.scale,y:425*a.scale,tx:a.width-55*a.scale,ty:5*a.scale,xs:0,type:0});
n.push({state:0,x:165*a.scale,y:425*a.scale,tx:a.width-55*a.scale,ty:5*a.scale,xs:0,type:0});y+=300}d.time++}else{d.time++;if(d.time==3)d.time=0}}else q("jsz",0,0,394,62,50*a.scale,370*a.scale,394*a.scale,62*a.scale,c.graphics.ANCHOR_LT);break;case 4:if(J[B]==1){q("zb_hp",0,0,31,16,160*a.scale,350*a.scale,31*a.scale,16*a.scale,c.graphics.ANCHOR_RT);q("zb_add",0,0,117,19,160*a.scale,390*a.scale,117*a.scale,19*a.scale,c.graphics.ANCHOR_RT);c.canvas.drawNumber(j.ap,"zb_num",15,14,212*a.scale,352*a.scale,
false,15*a.scale,14*a.scale);c.canvas.drawNumber(parseInt((j.ap-600)/400*100),"zb_num",15,14,210*a.scale,392*a.scale,false,15*a.scale,14*a.scale);c.canvas.drawImage("zb_num",150,0,15,14,212*a.scale,392*a.scale,15*a.scale,14*a.scale,c.graphics.ANCHOR_LT);c.canvas.setColor("rgb(12, 0, 0)");c.canvas.fillRect(170*a.scale,430*a.scale,142*a.scale,14*a.scale);c.canvas.setColor("rgb(6, 8, 44)");c.canvas.fillRect(171*a.scale,431*a.scale,140*a.scale,12*a.scale);c.canvas.setColor("rgb(253, 158, 19)");c.canvas.fillRect(171*
a.scale,431*a.scale,140*a.scale*(j.ap-600)/400,12*a.scale);l("zb_btn",0,r.isPressed?3:2,r.w,r.h,r.x,r.y,r.w*a.scale,r.h*a.scale);l("zb_btn",0,s.isPressed?5:4,s.w,s.h,s.x,s.y,s.w*a.scale,s.h*a.scale);if(r.isPressed)if(y>=20)if(d.time==0){if(j.ap<1E3){j.ap++;j.ap_=j.ap;n.push({state:0,tx:170*a.scale,ty:425*a.scale,x:a.width-55*a.scale,y:15*a.scale,xs:0,type:1});n.push({state:0,tx:170*a.scale,ty:425*a.scale,x:a.width-55*a.scale,y:15*a.scale,xs:0,type:1});y-=50}d.time++}else{d.time++;if(d.time==3)d.time=
0}if(s.isPressed)if(d.time==0){if(j.ap>600){j.ap--;j.ap_=j.ap;n.push({state:0,x:165*a.scale,y:425*a.scale,tx:a.width-55*a.scale,ty:5*a.scale,xs:0,type:0});n.push({state:0,x:165*a.scale,y:425*a.scale,tx:a.width-55*a.scale,ty:5*a.scale,xs:0,type:0});y+=50}d.time++}else{d.time++;if(d.time==3)d.time=0}}else q("jsz",0,0,394,62,50*a.scale,370*a.scale,394*a.scale,62*a.scale,c.graphics.ANCHOR_LT);break;case 5:if(J[B]==1){q("zb_atk",0,0,80,16,160*a.scale,350*a.scale,80*a.scale,16*a.scale,c.graphics.ANCHOR_RT);
q("zb_add",0,0,117,19,160*a.scale,390*a.scale,117*a.scale,19*a.scale,c.graphics.ANCHOR_RT);q("zb_max",0,0,81,15,160*a.scale,465*a.scale,81*a.scale,15*a.scale,c.graphics.ANCHOR_RT);c.canvas.drawNumber(10,"zb_num",15,14,212*a.scale,467*a.scale,false,15*a.scale,14*a.scale);c.canvas.drawNumber(o.ap,"zb_num",15,14,212*a.scale,352*a.scale,false,15*a.scale,14*a.scale);c.canvas.drawNumber(parseInt((o.ap-60)/20*100),"zb_num",15,14,210*a.scale,392*a.scale,false,15*a.scale,14*a.scale);c.canvas.drawImage("zb_num",
150,0,15,14,212*a.scale,392*a.scale,15*a.scale,14*a.scale,c.graphics.ANCHOR_LT);c.canvas.setColor("rgb(12, 0, 0)");c.canvas.fillRect(170*a.scale,430*a.scale,142*a.scale,14*a.scale);c.canvas.setColor("rgb(6, 8, 44)");c.canvas.fillRect(171*a.scale,431*a.scale,140*a.scale,12*a.scale);c.canvas.setColor("rgb(253, 158, 19)");c.canvas.fillRect(171*a.scale,431*a.scale,140*a.scale*(o.ap-60)/20,12*a.scale);l("zb_btn",0,r.isPressed?3:2,r.w,r.h,r.x,r.y,r.w*a.scale,r.h*a.scale);l("zb_btn",0,s.isPressed?5:4,s.w,
s.h,s.x,s.y,s.w*a.scale,s.h*a.scale);if(r.isPressed)if(y>=1E3)if(d.time==0){if(o.ap<80){o.ap++;n.push({state:0,tx:170*a.scale,ty:425*a.scale,x:a.width-55*a.scale,y:15*a.scale,xs:0,type:1});n.push({state:0,tx:170*a.scale,ty:425*a.scale,x:a.width-55*a.scale,y:15*a.scale,xs:0,type:1});n.push({state:0,tx:170*a.scale,ty:425*a.scale,x:a.width-55*a.scale,y:15*a.scale,xs:0,type:1});y-=1E3}d.time++}else{d.time++;if(d.time==3)d.time=0}if(s.isPressed)if(d.time==0){if(o.ap>60){o.ap--;n.push({state:0,x:165*a.scale,
y:425*a.scale,tx:a.width-55*a.scale,ty:5*a.scale,xs:0,type:0});n.push({state:0,x:165*a.scale,y:425*a.scale,tx:a.width-55*a.scale,ty:5*a.scale,xs:0,type:0});n.push({state:0,x:165*a.scale,y:425*a.scale,tx:a.width-55*a.scale,ty:5*a.scale,xs:0,type:0});y+=1E3}d.time++}else{d.time++;if(d.time==3)d.time=0}}else q("jsz",0,0,394,62,50*a.scale,370*a.scale,394*a.scale,62*a.scale,c.graphics.ANCHOR_LT)}for(b=0;b<n.length;b++)switch(n[b].state){case 0:var f=n[b],h=[n[b].x,n[b].y],g=[n[b].tx,n[b].ty],O=c.commandFuns.getRandom(100,
400),E=[];E[0]=h[0]+Math.abs(h[0]-g[0])/2;E[1]=h[1]-O;g=((h[1]-g[1])*(h[0]*h[0]-E[0]*E[0])-(h[1]-E[1])*(h[0]*h[0]-g[0]*g[0]))/((h[0]-g[0])*(h[0]*h[0]-E[0]*E[0])-(h[0]-E[0])*(h[0]*h[0]-g[0]*g[0]));E=(h[1]-E[1]-g*(h[0]-E[0]))/(h[0]*h[0]-E[0]*E[0]);f.xs=[E,g,h[1]-E*h[0]*h[0]-g*h[0]];n[b].state++;break;case 1:c.canvas.drawImage("jb",0,0,25,23,n[b].x,n[b].y,25*a.scale,23*a.scale,c.graphics.ANCHOR_HV);n[b].y=n[b].xs[0]*n[b].x*n[b].x+n[b].xs[1]*n[b].x+n[b].xs[2];switch(n[b].type){case 0:n[b].x+=10;if(n[b].y<=
15*a.scale)n.splice(b,1);else n[b].x>=a.width-50*a.scale&&n.splice(b,1);break;case 1:n[b].x-=10;if(n[b].y>=481*a.scale)n.splice(b,1);else n[b].x<=160*a.scale&&n.splice(b,1)}}break;case wa:Db();break;case 1002:Db();q("zt1",0,0,378,229,(a.width-378*a.scale)/2,150*a.scale,378*a.scale,229*a.scale,c.graphics.ANCHOR_LT);l("zt2",0,na.isPressed?1:0,na.w,na.h,na.x,na.y,na.w*a.scale,na.h*a.scale);l("zt2",0,oa.isPressed?3:2,oa.w,oa.h,oa.x,oa.y,oa.w*a.scale,oa.h*a.scale);break;case jb:Db();q("gg1",0,0,368,223,
(a.width-368*a.scale)/2,150*a.scale,368*a.scale,223*a.scale,c.graphics.ANCHOR_LT);l("gg2",0,ra.isPressed?1:0,ra.w,ra.h,ra.x,ra.y,ra.w*a.scale,ra.h*a.scale);break;case nb:Db();q("sb1",0,0,379,236,(a.width-379*a.scale)/2,150*a.scale,379*a.scale,236*a.scale,c.graphics.ANCHOR_LT);l("sb2",0,sa.isPressed?1:0,sa.w,sa.h,sa.x,sa.y,sa.w*a.scale,sa.h*a.scale);break;case 1005:q("bj1",0,0,480,860,a.width/2,a.height,480*a.scale,860*a.scale,c.graphics.ANCHOR_HB);q("bzsm5",0,0,186,173,a.width/2-120*a.scale,a.height/
2-120*a.scale,186*a.scale,173*a.scale,c.graphics.ANCHOR_HV);q("bzsm5",0,0,186,173,a.width/2-120*a.scale,a.height/2+120*a.scale,186*a.scale,173*a.scale,c.graphics.ANCHOR_HV);q("bzsm5",0,0,186,173,a.width/2+120*a.scale,a.height/2-120*a.scale,186*a.scale,173*a.scale,c.graphics.ANCHOR_HV);q("bzsm5",0,0,186,173,a.width/2+120*a.scale,a.height/2+120*a.scale,186*a.scale,173*a.scale,c.graphics.ANCHOR_HV);q("bzsm1",0,0,121,151,a.width/2-120*a.scale,a.height/2-120*a.scale,121*a.scale,151*a.scale,c.graphics.ANCHOR_HV);
q("bzsm2",0,0,120,169,a.width/2-120*a.scale,a.height/2+120*a.scale,120*a.scale,169*a.scale,c.graphics.ANCHOR_HV);q("bzsm3",0,0,170,176,a.width/2+120*a.scale,a.height/2-120*a.scale,170*a.scale,176*a.scale,c.graphics.ANCHOR_HV);q("bzsm4",0,0,120,169,a.width/2+120*a.scale,a.height/2+120*a.scale,120*a.scale,169*a.scale,c.graphics.ANCHOR_HV);l("cl_jt",0,F.isPressed?1:0,F.w,F.h,50*a.scale,a.height-50*a.scale,F.w*a.scale,F.h*a.scale,c.graphics.ANCHOR_HV)}}}})})};
